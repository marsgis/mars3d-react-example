/**
 * Mars3D平台插件,结合heatmap可视化功能插件  mars3d-heatmap
 *
 * 版本信息：v3.3.9
 * 编译日期：2022-05-18 19:45:36
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2022-02-01
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mars3d || require('mars3d')), (window.h337 || require('@mars3d/heatmap.js'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mars3d', '@mars3d/heatmap.js'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-heatmap"] = {}, global.mars3d, global.h337));
})(this, (function (exports, mars3d, h337) { 
'use strict';var _0x335db5=_0x21c0;(function(_0x11b652,_0x3c72fc){var _0x1f4ab2=_0x21c0,_0x8cfcaa=_0x11b652();while(!![]){try{var _0x54b6f0=-parseInt(_0x1f4ab2(0xd9))/0x1*(-parseInt(_0x1f4ab2(0x145))/0x2)+parseInt(_0x1f4ab2(0x107))/0x3*(parseInt(_0x1f4ab2(0xe9))/0x4)+parseInt(_0x1f4ab2(0xe2))/0x5+-parseInt(_0x1f4ab2(0x13e))/0x6+parseInt(_0x1f4ab2(0x127))/0x7+-parseInt(_0x1f4ab2(0x144))/0x8*(-parseInt(_0x1f4ab2(0xdb))/0x9)+parseInt(_0x1f4ab2(0x100))/0xa*(-parseInt(_0x1f4ab2(0x121))/0xb);if(_0x54b6f0===_0x3c72fc)break;else _0x8cfcaa['push'](_0x8cfcaa['shift']());}catch(_0x96836c){_0x8cfcaa['push'](_0x8cfcaa['shift']());}}}(_0x6c3c,0x590cd));function _interopNamespace(_0x86979d){var _0x31a7ac=_0x21c0;if(_0x86979d&&_0x86979d['__esModule'])return _0x86979d;var _0x6b98fa=Object[_0x31a7ac(0xd0)](null);return _0x86979d&&Object[_0x31a7ac(0x146)](_0x86979d)[_0x31a7ac(0x13f)](function(_0x5d9b66){var _0x56eb00=_0x31a7ac;if(_0x5d9b66!==_0x56eb00(0x113)){var _0x2b5f1e=Object[_0x56eb00(0x11f)](_0x86979d,_0x5d9b66);Object['defineProperty'](_0x6b98fa,_0x5d9b66,_0x2b5f1e['get']?_0x2b5f1e:{'enumerable':!![],'get':function(){return _0x86979d[_0x5d9b66];}});}}),_0x6b98fa[_0x31a7ac(0x113)]=_0x86979d,_0x6b98fa;}var mars3d__namespace=_interopNamespace(mars3d),h337__namespace=_interopNamespace(h337);function ownKeys(_0x44cb36,_0x2574bb){var _0x3fcd9f=_0x21c0,_0x45407d=Object[_0x3fcd9f(0x146)](_0x44cb36);if(Object[_0x3fcd9f(0xbc)]){var _0x1faa23=Object['getOwnPropertySymbols'](_0x44cb36);_0x2574bb&&(_0x1faa23=_0x1faa23[_0x3fcd9f(0xc4)](function(_0x2ac310){var _0x3fe11c=_0x3fcd9f;return Object[_0x3fe11c(0x11f)](_0x44cb36,_0x2ac310)[_0x3fe11c(0xf2)];})),_0x45407d[_0x3fcd9f(0x131)][_0x3fcd9f(0xec)](_0x45407d,_0x1faa23);}return _0x45407d;}function _0x21c0(_0xd4d2b6,_0x2c808f){var _0x6c3c91=_0x6c3c();return _0x21c0=function(_0x21c042,_0x32dddc){_0x21c042=_0x21c042-0xba;var _0x32886a=_0x6c3c91[_0x21c042];if(_0x21c0['QvSDhP']===undefined){var _0x1dd3e5=function(_0x86979d){var _0x6b98fa='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';var _0x5d9b66='',_0x2b5f1e='';for(var _0x44cb36=0x0,_0x2574bb,_0x45407d,_0x1faa23=0x0;_0x45407d=_0x86979d['charAt'](_0x1faa23++);~_0x45407d&&(_0x2574bb=_0x44cb36%0x4?_0x2574bb*0x40+_0x45407d:_0x45407d,_0x44cb36++%0x4)?_0x5d9b66+=String['fromCharCode'](0xff&_0x2574bb>>(-0x2*_0x44cb36&0x6)):0x0){_0x45407d=_0x6b98fa['indexOf'](_0x45407d);}for(var _0x2ac310=0x0,_0x38c4e1=_0x5d9b66['length'];_0x2ac310<_0x38c4e1;_0x2ac310++){_0x2b5f1e+='%'+('00'+_0x5d9b66['charCodeAt'](_0x2ac310)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2b5f1e);};_0x21c0['gOinkv']=_0x1dd3e5,_0xd4d2b6=arguments,_0x21c0['QvSDhP']=!![];}var _0x58f886=_0x6c3c91[0x0],_0x5c23f9=_0x21c042+_0x58f886,_0x23e0b4=_0xd4d2b6[_0x5c23f9];return!_0x23e0b4?(_0x32886a=_0x21c0['gOinkv'](_0x32886a),_0xd4d2b6[_0x5c23f9]=_0x32886a):_0x32886a=_0x23e0b4,_0x32886a;},_0x21c0(_0xd4d2b6,_0x2c808f);}function _objectSpread2(_0x38c4e1){var _0x5e17e6=_0x21c0;for(var _0x559e08=0x1;_0x559e08<arguments[_0x5e17e6(0x13b)];_0x559e08++){var _0x2510e5=null!=arguments[_0x559e08]?arguments[_0x559e08]:{};_0x559e08%0x2?ownKeys(Object(_0x2510e5),!0x0)['forEach'](function(_0x5210df){_defineProperty(_0x38c4e1,_0x5210df,_0x2510e5[_0x5210df]);}):Object[_0x5e17e6(0xc3)]?Object[_0x5e17e6(0x122)](_0x38c4e1,Object[_0x5e17e6(0xc3)](_0x2510e5)):ownKeys(Object(_0x2510e5))[_0x5e17e6(0x13f)](function(_0x3832a4){var _0x29927d=_0x5e17e6;Object[_0x29927d(0x149)](_0x38c4e1,_0x3832a4,Object['getOwnPropertyDescriptor'](_0x2510e5,_0x3832a4));});}return _0x38c4e1;}function _classCallCheck(_0x40b68a,_0x14b342){var _0xbb8729=_0x21c0;if(!(_0x40b68a instanceof _0x14b342))throw new TypeError(_0xbb8729(0xc1));}function _defineProperties(_0x3b6189,_0x303b4d){var _0x1fcf73=_0x21c0;for(var _0x9a0676=0x0;_0x9a0676<_0x303b4d[_0x1fcf73(0x13b)];_0x9a0676++){var _0x2dfde8=_0x303b4d[_0x9a0676];_0x2dfde8['enumerable']=_0x2dfde8[_0x1fcf73(0xf2)]||![],_0x2dfde8[_0x1fcf73(0xf7)]=!![];if('value'in _0x2dfde8)_0x2dfde8['writable']=!![];Object['defineProperty'](_0x3b6189,_0x2dfde8[_0x1fcf73(0x129)],_0x2dfde8);}}function _createClass(_0x276233,_0x1de567,_0x3cbaed){var _0x4a599e=_0x21c0;if(_0x1de567)_defineProperties(_0x276233[_0x4a599e(0x12b)],_0x1de567);if(_0x3cbaed)_defineProperties(_0x276233,_0x3cbaed);return Object[_0x4a599e(0x149)](_0x276233,_0x4a599e(0x12b),{'writable':![]}),_0x276233;}function _defineProperty(_0x49a869,_0xeb4fce,_0x3689fd){var _0x1d821f=_0x21c0;return _0xeb4fce in _0x49a869?Object[_0x1d821f(0x149)](_0x49a869,_0xeb4fce,{'value':_0x3689fd,'enumerable':!![],'configurable':!![],'writable':!![]}):_0x49a869[_0xeb4fce]=_0x3689fd,_0x49a869;}function _inherits(_0x3fea61,_0x16b77b){var _0x273606=_0x21c0;if(typeof _0x16b77b!==_0x273606(0xba)&&_0x16b77b!==null)throw new TypeError(_0x273606(0xee));_0x3fea61['prototype']=Object['create'](_0x16b77b&&_0x16b77b[_0x273606(0x12b)],{'constructor':{'value':_0x3fea61,'writable':!![],'configurable':!![]}}),Object[_0x273606(0x149)](_0x3fea61,_0x273606(0x12b),{'writable':![]});if(_0x16b77b)_setPrototypeOf(_0x3fea61,_0x16b77b);}function _getPrototypeOf(_0x514c17){var _0x5b77f9=_0x21c0;return _getPrototypeOf=Object[_0x5b77f9(0x10f)]?Object[_0x5b77f9(0xd7)]:function _0x29dc92(_0xe9aca5){var _0x4fb3c9=_0x5b77f9;return _0xe9aca5[_0x4fb3c9(0x111)]||Object[_0x4fb3c9(0xd7)](_0xe9aca5);},_getPrototypeOf(_0x514c17);}function _0x6c3c(){var _0x4857dc=['CMvJDgfUz2XL','zgL2','C2v0rgf0yq','x21VDw50zwriB29R','zNjVBunHy2HL','x2XHC3rFBujVDw5KCW','ndq0owL0u1jrBW','z2v0vMfSDwvbDa','y2fSBa','CMDIkde0mcWXndaSmtqWkq','x2nYzwf0zufYy0DYyxbOAwm','y2XLyxi','x3nLDe9WDgLVBNniB29R','y29UzMLNDxjL','C2v0uhjVDg90ExbLt2y','Aw1Hz2uVCg5N','x19WCM90B19F','x21cB3vUzhnnyxG','zgvMyxvSDa','zgvMyxvSDfzHBhvL','ywjZ','Bgf5zxi','yMX1CG','yxjJqMX1CLnJywXL','z3jLzw4','vKvsvevyx0zpuK1bva','x2DYyxbOAwm','q29SB3i','y29VCMrPBMf0zxm','AgvPz2H0','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9Y','z3jHBNvSyxjPDhK','otu3BwjJC3LT','zgvMAw5LuhjVCgvYDgLLCW','C3r5Bgu','z2v0uMvJDgfUz2XL','sgvHDeXHEwvY','rg9TvxrPBa','ndu3mJK3neHmtuPJCa','Bg9UBgf0mM1LCMnHDg9Y','A2v5','BwvYz2u','ChjVDg90ExbL','q2vZAxvT','CgfYC2u','Bg5N','BwvYy2f0B3iYBg9UBgf0','x3jLBMrLCMvY','ChvZAa','z3jHCgHPyW','AxngB3jTyxq','DMfSDwvpzG','y29UC3rYDwn0','Eg1HEa','yxr0CMLIDxrLihzLyZmGCg9ZAxrPB24ZreHPz2G7cIaGicaGicaGicbHDhrYAwj1DguGDMvJmYbWB3nPDgLVBJnetg93oWOGicaGicaGicaGyxr0CMLIDxrLihzLyZiGC3q7cIaGicaGicaGicbHDhrYAwj1DguGzMXVyxqGyMf0y2HjzdSkicaGicaGicaGihvUAwzVCM0GC2fTCgXLCJjeigj1BxbnyxbFmZSkicaGicaGicaGihzHCNLPBMCGDMvJmYb2x3bVC2L0Aw9Utum7cIaGicaGicaGicb2yxj5Aw5NihzLyZmGDL9WB3nPDgLVBKvdoWOGicaGicaGicaGDMfYEwLUzYb2zwmYihzFC3q7cGOGicaGicaGicaGDM9PzcbTywLUkcKkicaGicaGicaGihSkicaGicaGicaGicaGDMvJncbWid0Gy3PTx2nVBxb1DgvqB3nPDgLVBIGPoWOGicaGicaGicaGicb2x3bVC2L0Aw9UtumGpsbWB3nPDgLVBJnesgLNAcaRihbVC2L0Aw9Um0rmB3C7cIaGicaGicaGicaGihzFCg9ZAxrPB25fqYa9icHJEM1FBw9KzwXwAwv3uMvSyxrPDMvuB0v5zsaQihaPlNH5EJSkicaGicaGicaGicaGDL9ZDca9ihn0oWOGicaGicaGicaGicb2zwm0ignVBg9Yid0GDgv4DhvYztjekgj1BxbnyxbFmYWGDL9ZDcK7cIaGicaGicaGicaGigzSB2f0ignLBNrLCKj1BxaGpsbKAxn0yw5JzsH2zwmZkdaUmcKSy29SB3iUCMDIktSkicaGicaGicaGicaGDMvJmYb1CerPCIa9ig5VCM1HBgL6zsH2x3bVC2L0Aw9UtumUEhL6ktSkicaGicaGicaGicaGDMvJmYbKAxnqB3mGpsb1CerPCIaQignLBNrLCKj1BxaGkIa','CMDIysG','BwLUq2fUDMfZu2L6zq','twf0zxjPywW','BgvUz3rO','Eg1PBG','x21HCa','nJq1mJC2thH2v3jP','zM9YrwfJAa','ChG7','Bwf4','Ew1HEa','D2LKDgG','mtGXmdrQzxzctwy','mNPgr3zQDG','A2v5CW','u3rLBMnPBe9WzxjHDgLVBG','x3jLy3rHBMDSzq','zgvMAw5LuhjVCgvYDhK','uMvJDgfUz2XL','BwfYCZnKlwHLyxrTyxa','DgHPCYbOyxnUj3qGyMvLBIbPBML0AwfSAxnLzcaTihn1CgvYkcKGAgfZBID0igjLzw4Gy2fSBgvK','q2fYDgvZAwfUmG','yM9KEq','x2XHEwvY','B2jQzwn0','s0vfua','quXxqvLt','x2nYzwf0zuDYyxbOAwm','x2HLyxq','z3jHzgLLBNrbCMm','rwXSAxbZB2LKu3vYzMfJzufWCgvHCMfUy2u','z2v0sw1Hz2veyxrH','CM91BMq','zNvUy3rPB24','EwvSBg93','z2v0t3DUuhjVCgvYDhLtEw1IB2XZ','ywrKug9ZAxrPB24','x3bVC2L0Aw9UCW','uMvJDgfUz2XLuhjPBwL0AxzL','ug9SEvv0AwW','q2fUBM90ignHBgWGysbJBgfZCYbHCYbHigz1BMn0Aw9U','zM9YBwf0uMvJDgfUz2XL','z2v0t3DUuhjVCgvYDhLezxnJCMLWDg9YCW','zMLSDgvY','oWOGicaGicaGicaGicbWicS9DMvJncHKAxnqB3mSmc4WktSkicaGicaGicaGicaGz2XFug9ZAxrPB24GpsbJEM1FBw9KzwXwAwv3uhjVAMvJDgLVBLjLBgf0AxzLvg9fEwuGkIbWoWOGicaGicaGicaGFqOGicaGicaGia','C2HVDW','Dw5PzM9YBsbZyw1WBgvYmKqGAw1Hz2u7cMn6Bv9TyxrLCMLHBcbJEM1Fz2v0twf0zxjPywWOy3PTx21HDgvYAwfSsw5WDxqGBwf0zxjPywXjBNb1DcL7cIaGy3PTx21HDgvYAwfSig1HDgvYAwfSid0Gy3PTx2DLDerLzMf1BhrnyxrLCMLHBcHTyxrLCMLHBeLUChv0ktSkicb2zwmYihn0id0GBwf0zxjPywXjBNb1Dc5ZDdSkicb2zwm0ignVBg9Ysw1Hz2uGpsb0zxH0DxjLmKqOAw1Hz2uSC3qPoWOGigLMkgnVBg9Ysw1Hz2uUCMDIid09ihzLyZmOms4Wksb8FcbJB2XVCKLTywDLlNjNyIa9psb2zwmZkdaUmcKPEWOGicaGzgLZy2fYzdSkicb9cIaGBwf0zxjPywWUzgLMzNvZzsa9ignVBg9Ysw1Hz2uUCMDIoWOGig1HDgvYAwfSlMfSCgHHid0Gy29SB3jjBwfNzs5HoWOGihjLDhvYBIbTyxrLCMLHBdSkFqO','z2v0ug9PBNreyxrH','yMX1zq','y29Uy2f0','ywrKr3jHCgHPyW','r3jHCgHPy0XHEwvY','B3b0Aw9UCW','Ew1PBG','BwLU','y3jLyxrL','yxjJ','zMX5vg8','AgvHDfn0EwXL','Bwf4q2fUDMfZu2L6zq','Cg9PBNrZ','Dw5KzwzPBMvK','z2v0uhjVDg90ExbLt2y','zNjVBurLz3jLzxm','mZuXmZjty0vQshi','Dg9eyxrHvvjm','mJDVzeLOteu','x19LC01VzhvSzq','CMvNAxn0zxi','AgvHDa','qMfZzuXHEwvY','CMDIkdi1nsWYntuSmJu1kq','vxrPBa','ntuWmZvqsujsqMi','x2DLDeHLyxrdyw52yxnjBwC','x3nJywXL','CMfKAxvZ','y29UDgfPBMvY','x3vWzgf0zvbVC2L0Aw9UC0HVB2S','x2XHC3rFAgvHDerHDge','mZC2u05wC1rA','Bgf0','rgvYAxzLzcbJB25ZDhj1y3rVCNmGBwf5ig9UBhKGCMv0DxjUig9IAMvJDcbVCIb1BMrLzMLUzwq','yxbWBhK','zgLMzKHLAwDODa','u3vWzxiGzxHWCMvZC2LVBIbTDxn0igvPDgHLCIbIzsbUDwXSig9YigeGzNvUy3rPB24','qMXLBMrPBMDtDgf0zq','y29UC3rYDwn0B3i','CMvTB3zLq2HPBgq','zw51BwvYywjSzq','tg5Ntgf0ug9PBNq','Cg9ZAxrPB25Z','ug9PBNruCMfUCW','u3rLBMnPBez1BMn0Aw9U','y29UzMLNDxjHyMXL','CMvTB3zLtgf5zxi','x3jLBw92zwriB29R','CMDIkdaSmcWWkq','Dg9bCNjHEq','DMfSDwu','zgf0yq','y2XPzw50sgvPz2H0','y3r4','ndi5mtbSy0H1AxG'];_0x6c3c=function(){return _0x4857dc;};return _0x6c3c();}function _setPrototypeOf(_0x2e581,_0x19a275){var _0x2ca434=_0x21c0;return _setPrototypeOf=Object[_0x2ca434(0x10f)]||function _0x495df1(_0x537733,_0x12627e){return _0x537733['__proto__']=_0x12627e,_0x537733;},_setPrototypeOf(_0x2e581,_0x19a275);}function _isNativeReflectConstruct(){var _0x540911=_0x21c0;if(typeof Reflect===_0x540911(0xd6)||!Reflect['construct'])return![];if(Reflect[_0x540911(0x135)]['sham'])return![];if(typeof Proxy===_0x540911(0xba))return!![];try{return Boolean[_0x540911(0x12b)][_0x540911(0x134)][_0x540911(0x109)](Reflect[_0x540911(0x135)](Boolean,[],function(){})),!![];}catch(_0x459e53){return![];}}function _assertThisInitialized(_0x5813b9){var _0x471068=_0x21c0;if(_0x5813b9===void 0x0)throw new ReferenceError(_0x471068(0x14c));return _0x5813b9;}function _possibleConstructorReturn(_0xa3b541,_0x44a61c){var _0x3a5638=_0x21c0;if(_0x44a61c&&(typeof _0x44a61c===_0x3a5638(0x150)||typeof _0x44a61c===_0x3a5638(0xba)))return _0x44a61c;else{if(_0x44a61c!==void 0x0)throw new TypeError(_0x3a5638(0xeb));}return _assertThisInitialized(_0xa3b541);}function _createSuper(_0xfee8d){var _0x5eda86=_isNativeReflectConstruct();return function _0x1a9e10(){var _0x495111=_0x21c0,_0xb2a0f9=_getPrototypeOf(_0xfee8d),_0x55b4e8;if(_0x5eda86){var _0x32919f=_getPrototypeOf(this)[_0x495111(0xf0)];_0x55b4e8=Reflect['construct'](_0xb2a0f9,arguments,_0x32919f);}else _0x55b4e8=_0xb2a0f9['apply'](this,arguments);return _possibleConstructorReturn(this,_0x55b4e8);};}var HeatMaterial=_0x335db5(0xc7);if(!h337__namespace[_0x335db5(0xd0)])throw new Error('请引入\x20heatmap.js\x20库\x20');var Cesium=mars3d__namespace[_0x335db5(0x12c)],BaseLayer=mars3d__namespace[_0x335db5(0x116)][_0x335db5(0xdf)],DEF_HEATSTYLE={'maxOpacity':0.8,'minOpacity':0.1,'blur':0.85,'radius':0x19,'gradient':{0.4:_0x335db5(0xc9),0.6:_0x335db5(0x119),0.8:_0x335db5(0xbb),0.9:'red'}},DEF_STYLE={'arcRadiusScale':1.5,'arcBlurScale':1.5,'vertexFormat':Cesium['EllipsoidSurfaceAppearance'][_0x335db5(0x11a)]},HeatLayer=function(_0x13ac73){var _0x544254=_0x335db5;_inherits(_0x108e05,_0x13ac73);var _0x5f0446=_createSuper(_0x108e05);function _0x108e05(){var _0x728a7b=_0x21c0,_0x5a5649,_0x3de00f=arguments[_0x728a7b(0x13b)]>0x0&&arguments[0x0]!==undefined?arguments[0x0]:{};return _classCallCheck(this,_0x108e05),_0x5a5649=_0x5f0446[_0x728a7b(0x109)](this,_0x3de00f),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0xd4)]=Cesium[_0x728a7b(0x114)](_0x5a5649[_0x728a7b(0xcd)]['maxCanvasSize'],document[_0x728a7b(0x14e)]['clientWidth']),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0xd4)]=Math['min'](_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0xd4)],0x1388),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0x139)]=Cesium[_0x728a7b(0x114)](_0x5a5649['options']['minCanvasSize'],document[_0x728a7b(0x14e)][_0x728a7b(0xfe)]),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0x139)]=Math[_0x728a7b(0x141)](_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0x139)],0x2bc),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0xd3)]=_objectSpread2(_objectSpread2({},DEF_HEATSTYLE),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0xd3)]||{}),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0x123)]=_objectSpread2(_objectSpread2({},DEF_STYLE),_0x5a5649[_0x728a7b(0xcd)][_0x728a7b(0x123)]||{}),_0x5a5649;}return _createClass(_0x108e05,[{'key':_0x544254(0x116),'get':function _0x5d0d44(){return this['_layer'];}},{'key':_0x544254(0xd3),'get':function _0x2d33f2(){var _0x4aac0e=_0x544254;return this[_0x4aac0e(0xcd)][_0x4aac0e(0xd3)];},'set':function _0x1935df(_0x1876a4){var _0x14f21b=_0x544254;this[_0x14f21b(0xcd)][_0x14f21b(0xd3)]=mars3d__namespace[_0x14f21b(0xe1)][_0x14f21b(0x12a)](this[_0x14f21b(0xcd)][_0x14f21b(0xd3)],_0x1876a4),this['_heat']&&this['_heat'][_0x14f21b(0x10e)](this['options']['heatStyle']);}},{'key':'style','get':function _0x5c1080(){var _0x4bf9c1=_0x544254;return this['options'][_0x4bf9c1(0x123)];},'set':function _0x13309c(_0x2c5e3b){var _0x17f190=_0x544254;this[_0x17f190(0xcd)][_0x17f190(0x123)]=mars3d__namespace[_0x17f190(0xe1)][_0x17f190(0x12a)](this['options'][_0x17f190(0x123)],_0x2c5e3b);}},{'key':'positions','get':function _0x3815c4(){var _0x204aaf=_0x544254;return this[_0x204aaf(0xbe)];},'set':function _0x2cfe2a(_0x1710a9){var _0x336bb2=_0x544254;this['_positions']=_0x1710a9,this[_0x336bb2(0xe7)]();}},{'key':_0x544254(0x11d),'get':function _0x1ac215(){var _0x4c0a13=_0x544254,_0x293751=[];return this[_0x4c0a13(0xd5)][_0x4c0a13(0x13f)](function(_0x41cf22){var _0x129984=_0x4c0a13;_0x293751[_0x129984(0x131)](_0x41cf22[_0x129984(0xfb)]());}),_0x293751;}},{'key':_0x544254(0x101),'get':function _0x170169(){var _0xa9987c=_0x544254;return this[_0xa9987c(0x148)];}},{'key':_0x544254(0x10d),'value':function _0x52bf00(_0x2652dd){var _0x226bf9=_0x544254;_0x2652dd[_0x226bf9(0xf4)]&&(this[_0x226bf9(0xf4)]=_0x2652dd[_0x226bf9(0xf4)]);}},{'key':_0x544254(0x104),'value':function _0x555b53(){var _0x4b09c3=_0x544254;this[_0x4b09c3(0x14f)]=new mars3d__namespace[(_0x4b09c3(0x116))][(_0x4b09c3(0xcc))]({'noLayerManage':!![]}),this[_0x4b09c3(0x14f)]['_mars3d_private']=!![];}},{'key':'_addedHook','value':function _0x502b0d(){var _0x2699b5=_0x544254;this['_map']['addLayer'](this[_0x2699b5(0x14f)]),this[_0x2699b5(0xcd)]['positions']&&(this[_0x2699b5(0xf4)]=this[_0x2699b5(0xcd)]['positions']),this[_0x2699b5(0xcd)][_0x2699b5(0xd2)]&&this['flyToByAnimationEnd']();}},{'key':_0x544254(0xf9),'value':function _0x9ab939(){var _0x19c059=_0x544254;this[_0x19c059(0xd3)]['container']&&(this[_0x19c059(0x13d)]['container'][_0x19c059(0xf1)](this[_0x19c059(0xd3)][_0x19c059(0xe6)]),delete this[_0x19c059(0xd3)][_0x19c059(0xe6)]),this[_0x19c059(0x10c)](),this['_map'][_0x19c059(0xf8)](this[_0x19c059(0x14f)]);}},{'key':_0x544254(0xbd),'value':function _0x4f3f02(_0x2b22c5){var _0x58300d=_0x544254;this[_0x58300d(0xbe)]=this[_0x58300d(0xbe)]||[],this[_0x58300d(0xbe)][_0x58300d(0x131)](_0x2b22c5),this['_updatePositionsHook']();}},{'key':_0x544254(0x10c),'value':function _0x1f5626(){var _0x336299=_0x544254;this['_graphic']&&(this[_0x336299(0x14f)]['removeGraphic'](this['_graphic'],!![]),delete this[_0x336299(0x11b)]);}},{'key':'_updatePositionsHook','value':function _0x296f9a(){var _0x547c11=_0x544254;if(!this[_0x547c11(0xc6)]||!this[_0x547c11(0x13d)]||!this[_0x547c11(0xf4)]||this[_0x547c11(0xf4)][_0x547c11(0x13b)]===0x0)return this;var _0x4098dd=this[_0x547c11(0xe3)]();return this[_0x547c11(0x123)][_0x547c11(0xd1)]?this['_createArcGraphic'](_0x4098dd):this['_createGraphic'](_0x4098dd),this;}},{'key':_0x544254(0xc8),'value':function _0xf545a7(_0x3e58ff){var _0xdefb93=_0x544254,_0x30993c=mars3d__namespace[_0xdefb93(0xf3)][_0xdefb93(0x12d)](_0x3e58ff);if(!_0x30993c)return{};var _0x3ecc7c=mars3d__namespace[_0xdefb93(0xf5)][_0xdefb93(0x128)]([_0x30993c[_0xdefb93(0x12e)],_0x30993c[_0xdefb93(0xea)]]),_0x259fd7=this['_last_mBounds'],_0xf9fff2=Math[_0xdefb93(0x158)]((_0x3ecc7c[0x0]-_0x259fd7['xmin'])/this[_0xdefb93(0xe4)]),_0x3d1846=Math['round']((_0x259fd7[_0xdefb93(0x142)]-_0x3ecc7c[0x1])/this[_0xdefb93(0xe4)]),_0x137530=this[_0xdefb93(0x154)][_0xdefb93(0x108)]({'x':_0xf9fff2,'y':_0x3d1846}),_0x1d64a4=this['_heat'][_0xdefb93(0x130)][_0xdefb93(0xff)][_0xdefb93(0x157)](_0xf9fff2-0x1,_0x3d1846-0x1,0x1,0x1)[_0xdefb93(0xfd)];return{'x':_0xf9fff2,'y':_0x3d1846,'value':_0x137530,'color':_0xdefb93(0x138)+_0x1d64a4[0x0]+','+_0x1d64a4[0x1]+','+_0x1d64a4[0x2]+','+_0x1d64a4[0x3]+')'};}},{'key':_0x544254(0xe3),'value':function _0x283f9d(){var _0x45e9e7=_0x544254,_0x17e10d,_0x4f51a6,_0x566a63=this[_0x45e9e7(0xbe)],_0x4a15dc=[],_0x213b8d,_0x18d7e6,_0x349dda,_0x283791;_0x566a63[_0x45e9e7(0x13f)](function(_0x1e25bd){var _0x80fb49=_0x45e9e7,_0x5a232e=mars3d__namespace[_0x80fb49(0xf3)]['parse'](_0x1e25bd);if(!_0x5a232e)return;_0x5a232e['value']=_0x1e25bd[_0x80fb49(0xfc)]||0x1,_0x213b8d===undefined?(_0x213b8d=_0x5a232e[_0x80fb49(0x12e)],_0x18d7e6=_0x5a232e[_0x80fb49(0x12e)],_0x349dda=_0x5a232e['lat'],_0x283791=_0x5a232e[_0x80fb49(0xea)]):(_0x213b8d=Math[_0x80fb49(0xcf)](_0x213b8d,_0x5a232e[_0x80fb49(0x12e)]),_0x18d7e6=Math[_0x80fb49(0x141)](_0x18d7e6,_0x5a232e[_0x80fb49(0x12e)]),_0x349dda=Math[_0x80fb49(0xcf)](_0x349dda,_0x5a232e[_0x80fb49(0xea)]),_0x283791=Math[_0x80fb49(0x141)](_0x283791,_0x5a232e[_0x80fb49(0xea)])),_0x4a15dc['push'](_0x5a232e);});var _0x9c4f6b=this['heatStyle']['radius']*1.5,_0x512361={'xmin':_0x213b8d,'xmax':_0x18d7e6,'ymin':_0x349dda,'ymax':_0x283791},_0x21957d=getMercatorBounds(_0x512361),_0x443ead=Math[_0x45e9e7(0x115)](_0x21957d['xmax']-_0x21957d['xmin']),_0xd9e6a5=Math['abs'](_0x21957d[_0x45e9e7(0x142)]-_0x21957d['ymin']),_0x114d26=Math[_0x45e9e7(0x141)](_0x443ead,_0xd9e6a5),_0x4d9245=Math[_0x45e9e7(0xcf)](_0x443ead,_0xd9e6a5);this[_0x45e9e7(0x112)]=_0x114d26;var _0x5e346e=0x1;if(_0x114d26>this['options'][_0x45e9e7(0xd4)])_0x5e346e=_0x114d26/this['options'][_0x45e9e7(0xd4)],_0x4d9245/_0x5e346e<this[_0x45e9e7(0xcd)][_0x45e9e7(0x139)]&&(_0x5e346e=_0x4d9245/this[_0x45e9e7(0xcd)][_0x45e9e7(0x139)]);else _0x4d9245<this[_0x45e9e7(0xcd)][_0x45e9e7(0x139)]&&(_0x5e346e=_0x4d9245/this[_0x45e9e7(0xcd)]['minCanvasSize'],_0x114d26/_0x5e346e>this[_0x45e9e7(0xcd)][_0x45e9e7(0xd4)]&&(_0x5e346e=_0x114d26/this[_0x45e9e7(0xcd)]['maxCanvasSize']));var _0x3b9741=_0x443ead/_0x5e346e+_0x9c4f6b*0x2,_0x3238fa=_0xd9e6a5/_0x5e346e+_0x9c4f6b*0x2,_0x9bee4c=_0x9c4f6b*_0x5e346e;_0x21957d[_0x45e9e7(0x13c)]-=_0x9bee4c,_0x21957d['ymin']-=_0x9bee4c,_0x21957d[_0x45e9e7(0x136)]+=_0x9bee4c,_0x21957d[_0x45e9e7(0x142)]+=_0x9bee4c,this['_scale']=_0x5e346e,_0x512361=geLatLngBounds(_0x21957d),this['_rectangle']=Cesium[_0x45e9e7(0x14a)][_0x45e9e7(0xd8)](_0x512361[_0x45e9e7(0x13c)],_0x512361[_0x45e9e7(0xce)],_0x512361['xmax'],_0x512361[_0x45e9e7(0x142)]);var _0x1c3b0c=(_0x17e10d=_0x4a15dc[0x0][_0x45e9e7(0xfc)])!==null&&_0x17e10d!==void 0x0?_0x17e10d:0x1,_0x2ad611=(_0x4f51a6=_0x4a15dc[0x0][_0x45e9e7(0xfc)])!==null&&_0x4f51a6!==void 0x0?_0x4f51a6:0x0,_0x18d421=[];_0x4a15dc['forEach'](function(_0x418f23){var _0x725023=_0x45e9e7,_0x4642b8=mars3d__namespace[_0x725023(0xf5)][_0x725023(0x128)]([_0x418f23['lng'],_0x418f23[_0x725023(0xea)]]),_0x52fe25=_0x418f23[_0x725023(0xfc)]||0x1,_0x2eb85b=Math[_0x725023(0x158)]((_0x4642b8[0x0]-_0x21957d[_0x725023(0x13c)])/_0x5e346e),_0x391455=Math[_0x725023(0x158)]((_0x21957d['ymax']-_0x4642b8[0x1])/_0x5e346e);_0x1c3b0c=Math[_0x725023(0x141)](_0x1c3b0c,_0x52fe25),_0x2ad611=Math[_0x725023(0xcf)](_0x2ad611,_0x52fe25),_0x18d421[_0x725023(0x131)]({'x':_0x2eb85b,'y':_0x391455,'value':_0x52fe25});});var _0x322ccd={'min':_0x2ad611,'max':_0x1c3b0c,'data':_0x18d421};this[_0x45e9e7(0xe8)]=_0x322ccd;(!this['_last_mBounds']||_0x21957d[_0x45e9e7(0x13c)]!==this[_0x45e9e7(0x106)]['xmin']||_0x21957d[_0x45e9e7(0xce)]!==this[_0x45e9e7(0x106)]['ymin']||_0x21957d[_0x45e9e7(0x136)]!==this['_last_mBounds'][_0x45e9e7(0x136)]||_0x21957d[_0x45e9e7(0x142)]!==this['_last_mBounds'][_0x45e9e7(0x142)])&&(this[_0x45e9e7(0x106)]=_0x21957d,!this['heatStyle'][_0x45e9e7(0xe6)]&&(this[_0x45e9e7(0xd3)]['container']=mars3d__namespace[_0x45e9e7(0x126)][_0x45e9e7(0xd0)](_0x45e9e7(0x102),_0x45e9e7(0x14b),this[_0x45e9e7(0x13d)][_0x45e9e7(0xe6)])),this[_0x45e9e7(0xd3)][_0x45e9e7(0xe6)][_0x45e9e7(0x123)]['cssText']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:0;\x0a\x20\x20\x20\x20\x20\x20\x20\x20width:'[_0x45e9e7(0xca)](_0x3b9741,'px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20height:')[_0x45e9e7(0xca)](_0x3238fa,_0x45e9e7(0x140)),!this[_0x45e9e7(0x154)]?this[_0x45e9e7(0x154)]=h337__namespace[_0x45e9e7(0xd0)](this['heatStyle']):this['_heat'][_0x45e9e7(0x10e)](this['heatStyle']));this['_heat'][_0x45e9e7(0x103)](_0x322ccd);var _0x12ffc6=this[_0x45e9e7(0x154)][_0x45e9e7(0x130)]['canvas'][_0x45e9e7(0xda)](_0x45e9e7(0x110));return this[_0x45e9e7(0xd3)][_0x45e9e7(0xe6)]&&(this[_0x45e9e7(0x13d)][_0x45e9e7(0xe6)][_0x45e9e7(0xf1)](this[_0x45e9e7(0xd3)][_0x45e9e7(0xe6)]),delete this[_0x45e9e7(0xd3)][_0x45e9e7(0xe6)]),_0x12ffc6;}},{'key':_0x544254(0x153),'value':function _0x3eed0d(_0x327c26){var _0x59fcc4=_0x544254;this[_0x59fcc4(0x10c)](),this['_graphic']=new mars3d__namespace[(_0x59fcc4(0x132))][(_0x59fcc4(0xbf))](_objectSpread2(_objectSpread2({},this[_0x59fcc4(0xcd)]),{},{'rectangle':this[_0x59fcc4(0x148)],'appearance':new Cesium[(_0x59fcc4(0x156))]({'material':new Cesium[(_0x59fcc4(0x13a))]({'fabric':{'uniforms':{'image':_0x327c26},'source':HeatMaterial},'translucent':!![]}),'flat':!![]})})),this[_0x59fcc4(0x14f)][_0x59fcc4(0xcb)](this['_graphic']);}},{'key':_0x544254(0x10b),'value':function _0x9beba0(_0x5e15fb){var _0x552067=_0x544254;this['clear'](),this[_0x552067(0x154)][_0x552067(0x10e)](_objectSpread2(_objectSpread2({},this['heatStyle']),{},{'radius':this['heatStyle'][_0x552067(0xe5)]*this[_0x552067(0x123)]['arcRadiusScale'],'blur':this['heatStyle'][_0x552067(0x117)]*this[_0x552067(0x123)][_0x552067(0x118)],'gradient':this['heatStyle'][_0x552067(0x155)]||{0.25:_0x552067(0xfa),0.55:_0x552067(0x10a),0.85:'rgb(216,216,216)',0x1:_0x552067(0xe0)}}));var _0x398757=this['_heat'][_0x552067(0x130)]['canvas'][_0x552067(0xda)](_0x552067(0x110)),_0x4fbd66=Cesium['RenderState'][_0x552067(0x105)]({'cull':{'enabled':!![]},'depthTest':{'enabled':!![]},'stencilTest':{'enabled':!![],'frontFunction':Cesium[_0x552067(0xf6)][_0x552067(0x152)],'frontOperation':{'fail':Cesium[_0x552067(0x147)][_0x552067(0x151)],'zFail':Cesium[_0x552067(0x147)][_0x552067(0x151)],'zPass':Cesium[_0x552067(0x147)]['REPLACE']},'backFunction':Cesium[_0x552067(0xf6)][_0x552067(0x152)],'backOperation':{'fail':Cesium['StencilOperation'][_0x552067(0x151)],'zFail':Cesium[_0x552067(0x147)]['KEEP'],'zPass':Cesium[_0x552067(0x147)]['REPLACE']},'reference':0x2,'mask':0x2},'blending':Cesium[_0x552067(0xef)]['ALPHA_BLEND']}),_0x204826=Math['floor'](Cesium[_0x552067(0x114)](this[_0x552067(0x123)][_0x552067(0xed)],this['_mBoundsMax']*0.02))+0.1;this[_0x552067(0x123)][_0x552067(0xed)]&&delete this[_0x552067(0x123)][_0x552067(0xed)];var _0xb13ac9=Cesium[_0x552067(0x114)](this[_0x552067(0x123)]['splitNum'],0x64),_0x1c635e=Math[_0x552067(0x141)](this[_0x552067(0x148)][_0x552067(0x11e)],this['_rectangle'][_0x552067(0x143)]);this['style'][_0x552067(0x120)]=_0x1c635e/=_0xb13ac9,this[_0x552067(0x11b)]=new mars3d__namespace[(_0x552067(0x132))][(_0x552067(0xbf))](_objectSpread2(_objectSpread2({},this[_0x552067(0xcd)]),{},{'rectangle':this[_0x552067(0x148)],'appearance':new Cesium[(_0x552067(0x156))]({'aboveGround':!![],'renderState':_0x4fbd66,'material':new Cesium['Material']({'fabric':{'uniforms':{'image':_0x5e15fb,'repeat':new Cesium[(_0x552067(0x14d))](0x1,0x1),'color':new Cesium[(_0x552067(0x11c))](0x1,0x1,0x1,0.01),'bumpMap':_0x398757},'source':HeatMaterial},'translucent':!![]}),'vertexShaderSource':_0x552067(0x137)[_0x552067(0xca)](_0x204826,_0x552067(0xc5)),'flat':!![]})})),this['_layer'][_0x552067(0xcb)](this[_0x552067(0x11b)]);}},{'key':_0x544254(0x124),'value':function _0x189a4f(_0x53c3be){var _0x5032ab=_0x544254;return _0x53c3be!==null&&_0x53c3be!==void 0x0&&_0x53c3be[_0x5032ab(0x133)]&&this[_0x5032ab(0x148)]?mars3d__namespace[_0x5032ab(0xc0)][_0x5032ab(0xc2)](this[_0x5032ab(0x148)]):this[_0x5032ab(0x148)];}}]),_0x108e05;}(BaseLayer);mars3d__namespace[_0x335db5(0x116)][_0x335db5(0x125)]=HeatLayer,mars3d__namespace['LayerUtil'][_0x335db5(0xdd)](_0x335db5(0xde),HeatLayer);function getMercatorBounds(_0x5a5c87){var _0x35bff=_0x335db5,_0x407f73=mars3d__namespace[_0x35bff(0xf5)][_0x35bff(0x128)]([_0x5a5c87['xmin'],_0x5a5c87[_0x35bff(0xce)]]),_0x3b5a00=mars3d__namespace[_0x35bff(0xf5)][_0x35bff(0x128)]([_0x5a5c87[_0x35bff(0x136)],_0x5a5c87['ymax']]);return{'xmin':_0x407f73[0x0],'ymin':_0x407f73[0x1],'xmax':_0x3b5a00[0x0],'ymax':_0x3b5a00[0x1]};}function geLatLngBounds(_0x25d8c5){var _0x39cca2=_0x335db5,_0x3c504e=mars3d__namespace[_0x39cca2(0xf5)][_0x39cca2(0x12f)]([_0x25d8c5[_0x39cca2(0x13c)],_0x25d8c5[_0x39cca2(0xce)]]),_0x1ff5f5=mars3d__namespace[_0x39cca2(0xf5)]['mercator2lonlat']([_0x25d8c5[_0x39cca2(0x136)],_0x25d8c5[_0x39cca2(0x142)]]);return{'xmin':_0x3c504e[0x0],'ymin':_0x3c504e[0x1],'xmax':_0x1ff5f5[0x0],'ymax':_0x1ff5f5[0x1]};}exports[_0x335db5(0x125)]=HeatLayer,Object[_0x335db5(0x149)](exports,_0x335db5(0xdc),{'value':!![]});
}));
