/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.11
 * 编译日期：2023-11-04 00:01:25
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x314a4c=_0x1f96;(function(_0x3bf33d,_0x253fc4){const _0xf6e4b0={_0x24ae36:0x215,_0x1a33b9:0x233},_0x307f76=_0x1f96,_0x29e619=_0x3bf33d();while(!![]){try{const _0x22d442=parseInt(_0x307f76(0x1fd))/0x1+parseInt(_0x307f76(0x1f6))/0x2*(parseInt(_0x307f76(0x23a))/0x3)+parseInt(_0x307f76(_0xf6e4b0._0x24ae36))/0x4+parseInt(_0x307f76(_0xf6e4b0._0x1a33b9))/0x5+-parseInt(_0x307f76(0x1f7))/0x6+-parseInt(_0x307f76(0x1fc))/0x7+-parseInt(_0x307f76(0x1e8))/0x8*(parseInt(_0x307f76(0x241))/0x9);if(_0x22d442===_0x253fc4)break;else _0x29e619['push'](_0x29e619['shift']());}catch(_0x1175df){_0x29e619['push'](_0x29e619['shift']());}}}(_0x3d33,0x341ea));function _interopNamespace(_0x5b53d8){const _0x570f38={_0x17a918:0x222},_0x426a42={_0x4e06d3:0x1e9},_0x4607e6=_0x1f96;if(_0x5b53d8&&_0x5b53d8['__esModule'])return _0x5b53d8;var _0x331cb1=Object['create'](null);return _0x5b53d8&&Object['keys'](_0x5b53d8)[_0x4607e6(_0x570f38._0x17a918)](function(_0x44f20c){const _0xb4a80=_0x4607e6;if(_0x44f20c!=='default'){var _0x268cfd=Object[_0xb4a80(_0x426a42._0x4e06d3)](_0x5b53d8,_0x44f20c);Object[_0xb4a80(0x20a)](_0x331cb1,_0x44f20c,_0x268cfd[_0xb4a80(0x1ea)]?_0x268cfd:{'enumerable':!![],'get':function(){return _0x5b53d8[_0x44f20c];}});}}),_0x331cb1['default']=_0x5b53d8,_0x331cb1;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);function _0x1f96(_0x3b45a0,_0x22185b){const _0x3d332e=_0x3d33();return _0x1f96=function(_0x1f96a9,_0x55b21b){_0x1f96a9=_0x1f96a9-0x1d6;let _0x4f42e6=_0x3d332e[_0x1f96a9];return _0x4f42e6;},_0x1f96(_0x3b45a0,_0x22185b);}const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x314a4c(0x228)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x8398d2,_0x23c628,_0x425346,_0x529f58){const _0x116165={_0x3ea85f:0x1de,_0x57102e:0x1e3,_0x464449:0x242},_0x3f393d=_0x314a4c;super(_0x8398d2,_0x23c628,_0x425346);if(!BaseLayer$1)return;this['map']=_0x8398d2,this[_0x3f393d(_0x116165._0x3ea85f)]=_0x8398d2[_0x3f393d(0x1de)],this['dataSet']=_0x23c628,_0x425346=_0x425346||{},this['init'](_0x425346),this[_0x3f393d(_0x116165._0x57102e)](_0x425346),this['initDevicePixelRatio'](),this['canvasLayer']=_0x529f58,this['stopAniamation']=!0x1,this['animation']=_0x425346[_0x3f393d(_0x116165._0x464449)];}[_0x314a4c(0x218)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x314a4c(0x226)](){const _0x5dbf45={_0x511056:0x204},_0x5af974=_0x314a4c,_0x89e14d=this['options']['animation'];this[_0x5af974(0x237)]()&&this[_0x5af974(_0x5dbf45._0x511056)]&&(this['steps']['step']=_0x89e14d['stepsRange']['start']);}['animatorMoveendEvent'](){const _0x38cde5={_0x2562e5:0x237},_0x278482=_0x314a4c;this[_0x278482(_0x38cde5._0x2562e5)]()&&this['animator'];}['getContext'](){const _0x2cbeae={_0x347531:0x1fb},_0x20804d=_0x314a4c;return this['canvasLayer']['canvas'][_0x20804d(_0x2cbeae._0x347531)](this['context']);}['init'](_0x465ad6){const _0x647207={_0x56d4a4:0x23c,_0x1af1fc:0x1d9,_0x1f3d0b:0x205},_0x4b990d=_0x314a4c;this[_0x4b990d(_0x647207._0x56d4a4)]=_0x465ad6,this['initDataRange'](_0x465ad6),this[_0x4b990d(_0x647207._0x1af1fc)]=this['options']['context']||'2d',Cesium$1[_0x4b990d(0x22e)](this['options']['zIndex'])&&this['canvasLayer']&&this[_0x4b990d(_0x647207._0x1f3d0b)]['setZIndex']&&this['canvasLayer']['setZIndex'](this['options'][_0x4b990d(0x239)]),this['initAnimator']();}[_0x314a4c(0x1ef)](_0x3b43a5){const _0xc72042={_0x5ba11c:0x240,_0x2dffe7:0x20f,_0x769470:0x20d,_0x9070ed:0x1d9,_0x1be512:0x20d,_0x30dbe5:0x1f3,_0x17a282:0x23c,_0x104b00:0x220},_0x2ee54b={_0xcc495d:0x1dd},_0x3aca13={_0x59b2b9:0x23e,_0x451800:0x234},_0x550941=_0x314a4c,_0x1e4b76=this['scene'];if(this['canvasLayer']&&!this[_0x550941(_0xc72042._0x5ba11c)]){const _0x2654b1=this['options']['animation'],_0x399f2a=this[_0x550941(0x1fb)]();if(this['isEnabledTime']()){if(void 0x0===_0x3b43a5)return void this['clear'](_0x399f2a);this['context']==='2d'&&(_0x399f2a[_0x550941(_0xc72042._0x2dffe7)](),_0x399f2a[_0x550941(0x1f1)]='destination-out',_0x399f2a['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x399f2a[_0x550941(0x22b)](0x0,0x0,_0x399f2a['canvas']['width'],_0x399f2a['canvas']['height']),_0x399f2a['restore']());}else this[_0x550941(_0xc72042._0x769470)](_0x399f2a);if(this[_0x550941(_0xc72042._0x9070ed)]==='2d')for(const _0x56dc2c in this['options']){_0x399f2a[_0x56dc2c]=this['options'][_0x56dc2c];}else _0x399f2a[_0x550941(_0xc72042._0x1be512)](_0x399f2a[_0x550941(0x20e)]);const _0x35cdae={'transferCoordinate':function(_0x1d48ea){const _0x200342=_0x550941,_0x21f488=null;let _0x2b7e08=_0x1e4b76[_0x200342(0x236)];_0x1e4b76[_0x200342(0x1e0)]&&(_0x2b7e08=_0x1e4b76['globe']['getHeight'](Cesium$1[_0x200342(0x223)]['fromDegrees'](_0x1d48ea[0x0],_0x1d48ea[0x1])));const _0x4ffb6f=Cesium$1[_0x200342(_0x3aca13._0x59b2b9)]['fromDegrees'](_0x1d48ea[0x0],_0x1d48ea[0x1],_0x2b7e08);if(!_0x4ffb6f)return _0x21f488;const _0x46c778=_0x1e4b76[_0x200342(0x232)](_0x4ffb6f);if(!_0x46c778)return _0x21f488;if(_0x1e4b76['mapvDepthTest']&&_0x1e4b76[_0x200342(_0x3aca13._0x451800)]===Cesium$1['SceneMode']['SCENE3D']){const _0x4ba200=new Cesium$1['EllipsoidalOccluder'](_0x1e4b76['globe'][_0x200342(0x1e5)],_0x1e4b76[_0x200342(0x217)]['positionWC']),_0x337e39=_0x4ba200['isPointVisible'](_0x4ffb6f);if(!_0x337e39)return _0x21f488;}return[_0x46c778['x'],_0x46c778['y']];}};void 0x0!==_0x3b43a5&&(_0x35cdae[_0x550941(_0xc72042._0x30dbe5)]=function(_0x173cd3){const _0x25d06c=_0x550941,_0x174970=_0x2654b1[_0x25d06c(_0x2ee54b._0xcc495d)]||0xa;return!!(_0x3b43a5&&_0x173cd3['time']>_0x3b43a5-_0x174970&&_0x173cd3['time']<_0x3b43a5);});const _0x468cce=this['dataSet']['get'](_0x35cdae);this[_0x550941(0x21f)](_0x468cce),this['options']['unit']==='m'&&this[_0x550941(_0xc72042._0x17a282)]['size'],this[_0x550941(0x23c)]['_size']=this['options']['size'];const _0x49fcd6=_0x1e4b76['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x49fcd6)return;this[_0x550941(0x1f5)](_0x399f2a,new mapv__namespace[(_0x550941(0x200))](_0x468cce),this['options'],_0x49fcd6),this['options']['updateCallback']&&this['options'][_0x550941(_0xc72042._0x104b00)](_0x3b43a5);}}[_0x314a4c(0x1e4)](_0xa21a0d,_0x4b4c3d){let _0x1afbf8=_0xa21a0d;_0x1afbf8&&_0x1afbf8['get']&&(_0x1afbf8=_0x1afbf8['get']()),void 0x0!==_0x1afbf8&&this['dataSet']['set'](_0x1afbf8),super['update']({'options':_0x4b4c3d});}[_0x314a4c(0x1db)](_0x4d87c5,_0x6f2add){let _0x1632be=_0x4d87c5;_0x4d87c5&&_0x4d87c5['get']&&(_0x1632be=_0x4d87c5['get']()),this['dataSet']['add'](_0x1632be),this['update']({'options':_0x6f2add});}[_0x314a4c(0x1ff)](){const _0x2ae9a0=_0x314a4c;return this[_0x2ae9a0(0x21e)];}[_0x314a4c(0x1ed)](_0x32cc6b){const _0x37346d=_0x314a4c;if(this['dataSet']){const _0x2d31d2=this['dataSet'][_0x37346d(0x1ea)]({'filter':function(_0x2e2d06){const _0x2717c0=_0x37346d;return _0x32cc6b==null||typeof _0x32cc6b!==_0x2717c0(0x1e1)||!_0x32cc6b(_0x2e2d06);}});this['dataSet']['set'](_0x2d31d2),this['update']({'options':null});}}['clearData'](){this['dataSet']&&this['dataSet']['clear'](),this['update']({'options':null});}[_0x314a4c(0x1eb)](){const _0x47f186={_0xd6184b:0x205},_0x32036a=_0x314a4c;this[_0x32036a(_0x47f186._0xd6184b)]['draw']();}['clear'](_0x13c5a2){const _0xe1fcb5=_0x314a4c;_0x13c5a2&&_0x13c5a2['clearRect']&&_0x13c5a2['clearRect'](0x0,0x0,_0x13c5a2['canvas'][_0xe1fcb5(0x231)],_0x13c5a2['canvas'][_0xe1fcb5(0x207)]);}['destroy'](){const _0x368d75={_0x1a46e5:0x22c,_0x2d12dc:0x204},_0x3e4638=_0x314a4c;this[_0x3e4638(0x20d)](this['getContext']()),this[_0x3e4638(_0x368d75._0x1a46e5)](),this['animator']&&this[_0x3e4638(_0x368d75._0x2d12dc)]['stop'](),this['animator']=null,this[_0x3e4638(0x205)]=null;}}function _0x3d33(){const _0xed6e07=['click','dataSet','processData','updateCallback','register','forEach','Cartographic','devicePixelRatio','LineString','animatorMovestartEvent','Rectangle','__proto__','0px','MapVLayer','fillRect','clearData','style','defined','xmax','_removedHook','width','cartesianToCanvasCoordinates','1291075ZIHVUB','mode','off','mapvFixedHeight','isEnabledTime','mousemove','zIndex','103053JdcRMD','length','options','push','Cartesian3','_map','stopAniamation','23427ouumBv','animation','bindEvent','left','destroy','context','_pointerEvents','addData','LayerUtil','trails','scene','postRender','mapvAutoHeight','function','BaseLayer','argCheck','updateData','ellipsoid','pointerEvents','fixedHeight','504yvEKiJ','getOwnPropertyDescriptor','get','draw','animatorMoveendEvent','removeData','_onMapMouseMove','_canvasUpdate','_onMoveStartEvent','globalCompositeOperation','mapv','filter','resize','drawContext','2xPyzWp','1192134MoIuUB','canvas','_data','MultiPolygon','getContext','1200927XYMmND','195864tguMqf','geometry','getData','DataSet','mapvDepthTest','render','DomUtil','animator','canvasLayer','Polygon','height','layer','windowPosition','defineProperty','display','EventType','clear','COLOR_BUFFER_BIT','save','_mapVRenderer','position','methods','cameraMoveEnd','mouseDown','1037164yqPFdH','clampToGround','camera','initDevicePixelRatio','top','parentElement','_setOptionsHook','_reset'];_0x3d33=function(){return _0xed6e07;};return _0x3d33();}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0x133326,_0x5a5c3f,_0x54d411,_0x237e8b){const _0x687e22={_0x50c26e:0x1fe,_0xfbfa3c:0x225,_0x3f8fb1:0x23b,_0x2f510f:0x23d,_0x167cf7:0x206},_0x5608ef={_0x16f08c:0x23b},_0xc388fe=_0x314a4c;_0x237e8b=_0x237e8b||'_coordinates',_0x54d411=_0x54d411||'coordinates';for(let _0x3a890f=0x0;_0x3a890f<_0x133326['length'];_0x3a890f++){const _0x4bde7d=_0x133326[_0x3a890f][_0xc388fe(_0x687e22._0x50c26e)],_0x30f216=_0x4bde7d[_0x54d411];switch(_0x4bde7d['type']){case'Point':{const _0x2e9583=_0x5a5c3f(_0x30f216);_0x2e9583?_0x4bde7d[_0x237e8b]=_0x2e9583:_0x4bde7d[_0x237e8b]=[-0x3e7,-0x3e7];}break;case _0xc388fe(_0x687e22._0xfbfa3c):{const _0x3e3448=[];for(let _0x495fca=0x0;_0x495fca<_0x30f216[_0xc388fe(_0x687e22._0x3f8fb1)];_0x495fca++){const _0x21d5bc=_0x5a5c3f(_0x30f216[_0x495fca]);_0x21d5bc&&_0x3e3448[_0xc388fe(_0x687e22._0x2f510f)](_0x21d5bc);}_0x4bde7d[_0x237e8b]=_0x3e3448;}break;case'MultiLineString':case _0xc388fe(_0x687e22._0x167cf7):{const _0x5f4b68=_0x1d208d(_0x30f216);_0x4bde7d[_0x237e8b]=_0x5f4b68;}break;case _0xc388fe(0x1fa):{const _0x169daa=[];for(let _0x1bb9cd=0x0;_0x1bb9cd<_0x30f216['length'];_0x1bb9cd++){const _0x252e0d=_0x1d208d(_0x30f216[_0x1bb9cd]);_0x252e0d['length']>0x0&&_0x169daa['push'](_0x252e0d);}_0x4bde7d[_0x237e8b]=_0x169daa;}break;}}function _0x1d208d(_0x47fdfc){const _0x5c25b8=_0xc388fe,_0x222779=[];for(let _0x219385=0x0;_0x219385<_0x47fdfc['length'];_0x219385++){const _0x3d0474=_0x47fdfc[_0x219385],_0x37ce58=[];for(let _0x4ea25e=0x0;_0x4ea25e<_0x3d0474[_0x5c25b8(_0x5608ef._0x16f08c)];_0x4ea25e++){const _0x52f2cf=_0x5a5c3f(_0x3d0474[_0x4ea25e]);_0x52f2cf&&_0x37ce58['push'](_0x52f2cf);}_0x37ce58['length']>0x0&&_0x222779['push'](_0x37ce58);}return _0x222779;}return _0x133326;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace[_0x314a4c(0x208)][_0x314a4c(0x1e2)];class MapVLayer extends BaseLayer{constructor(_0x2d312b,_0xa2ac30){super(_0x2d312b),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0xa2ac30||new mapv__namespace['DataSet'](_0x2d312b['data']),this['canvas']=null;}get[_0x314a4c(0x1e6)](){return this['_pointerEvents'];}set[_0x314a4c(0x1e6)](_0x3a80eb){const _0x24d647={_0x3a4c22:0x1f8},_0x370342=_0x314a4c;this[_0x370342(0x1da)]=_0x3a80eb,this['canvas']&&(_0x3a80eb?this['canvas']['style']['pointerEvents']='all':this[_0x370342(_0x24d647._0x3a4c22)][_0x370342(0x22d)]['pointerEvents']='none');}['_showHook'](_0x17115d){const _0x4f5568=_0x314a4c;_0x17115d?this['canvas']['style']['display']='block':this['canvas']['style'][_0x4f5568(0x20b)]='none';}['_mountedHook'](){const _0x4b44e5={_0xa5832c:0x23f,_0x592402:0x1e0,_0x381e30:0x23c,_0x3e9136:0x216,_0x1963dd:0x23c,_0x33b307:0x1e7},_0x30e552=_0x314a4c;this['_map'][_0x30e552(0x1de)][_0x30e552(0x201)]=this['options']['depthTest']??!![],this[_0x30e552(_0x4b44e5._0xa5832c)]['scene'][_0x30e552(_0x4b44e5._0x592402)]=this[_0x30e552(_0x4b44e5._0x381e30)][_0x30e552(_0x4b44e5._0x3e9136)]??![],this['_map']['scene']['mapvFixedHeight']=this[_0x30e552(_0x4b44e5._0x1963dd)][_0x30e552(_0x4b44e5._0x33b307)]??0x0;}['_addedHook'](){const _0x6bc20={_0x5365d0:0x1f9,_0x55a65a:0x1f9,_0xa1d740:0x23f,_0x124f77:0x218},_0x3dc86e=_0x314a4c;this[_0x3dc86e(0x21e)]&&(!this['dataSet'][_0x3dc86e(_0x6bc20._0x5365d0)]||this['dataSet'][_0x3dc86e(_0x6bc20._0x55a65a)]['length']===0x0)&&(this['dataSet'][_0x3dc86e(0x1f9)]=[]['concat'](this[_0x3dc86e(0x21e)]['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x3dc86e(_0x6bc20._0xa1d740)],this['dataSet'],this['options'],this),this[_0x3dc86e(_0x6bc20._0x124f77)](),this[_0x3dc86e(0x1f8)]=this['_createCanvas'](),this['render']=this['render']['bind'](this),this[_0x3dc86e(0x1d6)](),this['_reset']();}[_0x314a4c(0x230)](){const _0x2734b0={_0x25117e:0x21a},_0x3c49b8=_0x314a4c;this['unbindEvent'](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x3c49b8(_0x2734b0._0x25117e)]['removeChild'](this['canvas']);}['initDevicePixelRatio'](){const _0x4e96d7={_0x5dad03:0x224},_0x50af43=_0x314a4c;this[_0x50af43(0x224)]=window[_0x50af43(_0x4e96d7._0x5dad03)]||0x1;}['bindEvent'](){const _0x44520d={_0x1a0fac:0x214,_0x55baaf:0x1f0,_0x21a29c:0x212,_0x43b8dc:0x21d,_0x290606:0x23c},_0xbd38f4=_0x314a4c;var _0x322ded,_0x445b37;this['_map']['on'](mars3d__namespace['EventType'][_0xbd38f4(_0x44520d._0x1a0fac)],this[_0xbd38f4(_0x44520d._0x55baaf)],this),this['_map']['on'](mars3d__namespace[_0xbd38f4(0x20c)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType'][_0xbd38f4(0x213)],this['_onMoveEndEvent'],this),(_0x322ded=this['options'])!==null&&_0x322ded!==void 0x0&&(_0x322ded=_0x322ded[_0xbd38f4(_0x44520d._0x21a29c)])!==null&&_0x322ded!==void 0x0&&_0x322ded['click']&&this['_map']['on'](mars3d__namespace['EventType'][_0xbd38f4(_0x44520d._0x43b8dc)],this['_onMapClick'],this),(_0x445b37=this[_0xbd38f4(_0x44520d._0x290606)])!==null&&_0x445b37!==void 0x0&&(_0x445b37=_0x445b37['methods'])!==null&&_0x445b37!==void 0x0&&_0x445b37['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0xbd38f4(0x1ee)],this);}['unbindEvent'](){const _0xd22d3f={_0x2af8f8:0x20c,_0x561eef:0x1f0,_0x757e67:0x23f,_0x2ff519:0x235,_0x2b7144:0x235,_0xfe1621:0x20c,_0x4d0a77:0x235,_0x5169ba:0x21d,_0x3a0e0c:0x238},_0x1a5b72=_0x314a4c;var _0x40caed,_0x3753cb;this[_0x1a5b72(0x23f)][_0x1a5b72(0x235)](mars3d__namespace[_0x1a5b72(_0xd22d3f._0x2af8f8)]['mouseDown'],this[_0x1a5b72(0x1f0)],this),this[_0x1a5b72(0x23f)][_0x1a5b72(0x235)](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x1a5b72(_0xd22d3f._0x561eef)],this),this[_0x1a5b72(_0xd22d3f._0x757e67)][_0x1a5b72(_0xd22d3f._0x2ff519)](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map'][_0x1a5b72(_0xd22d3f._0x2b7144)](mars3d__namespace[_0x1a5b72(_0xd22d3f._0xfe1621)]['postRender'],this['_reset'],this),(_0x40caed=this['options'])!==null&&_0x40caed!==void 0x0&&(_0x40caed=_0x40caed['methods'])!==null&&_0x40caed!==void 0x0&&_0x40caed[_0x1a5b72(0x21d)]&&this[_0x1a5b72(0x23f)][_0x1a5b72(_0xd22d3f._0x4d0a77)](mars3d__namespace[_0x1a5b72(0x20c)][_0x1a5b72(_0xd22d3f._0x5169ba)],this['_onMapClick'],this),(_0x3753cb=this['options'])!==null&&_0x3753cb!==void 0x0&&(_0x3753cb=_0x3753cb['methods'])!==null&&_0x3753cb!==void 0x0&&_0x3753cb[_0x1a5b72(_0xd22d3f._0x3a0e0c)]&&this[_0x1a5b72(0x23f)]['off'](mars3d__namespace[_0x1a5b72(0x20c)]['mouseMove'],this['_onMapMouseMove'],this);}['_onMoveStartEvent'](){const _0x511c68={_0x28fe2f:0x210,_0x53c860:0x20c,_0x3709ee:0x23f},_0x9ad1b0=_0x314a4c;this[_0x9ad1b0(_0x511c68._0x28fe2f)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace[_0x9ad1b0(_0x511c68._0x53c860)]['postRender'],this['_reset'],this),this[_0x9ad1b0(_0x511c68._0x3709ee)]['on'](mars3d__namespace[_0x9ad1b0(0x20c)]['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x244c84={_0x203bf5:0x210,_0x26ba66:0x23f,_0x4ce7b4:0x1df,_0x42c4ca:0x21c},_0x38df02=_0x314a4c;this[_0x38df02(_0x244c84._0x203bf5)]&&(this[_0x38df02(_0x244c84._0x26ba66)]['off'](mars3d__namespace['EventType'][_0x38df02(_0x244c84._0x4ce7b4)],this[_0x38df02(_0x244c84._0x42c4ca)],this),this['_mapVRenderer'][_0x38df02(0x1ec)](),this['_reset']());}[_0x314a4c(0x21b)](_0x42fcab,_0x138666){this['_removedHook'](),this['_addedHook']();}['addData'](_0x7faea2){const _0x31618e=_0x314a4c;this['_mapVRenderer']&&this['_mapVRenderer'][_0x31618e(0x1db)](_0x7faea2,this['options']);}['updateData'](_0x545ff5){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x545ff5,this['options']);}['getData'](){const _0x2ee4c4=_0x314a4c;return this['_mapVRenderer']&&(this[_0x2ee4c4(0x21e)]=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x36d1e8){const _0xcbd063=_0x314a4c;this['_mapVRenderer']&&this[_0xcbd063(0x210)]['removeData'](_0x36d1e8);}['removeAllData'](){const _0x1fafea={_0x4fcda3:0x210},_0x16aafd=_0x314a4c;this[_0x16aafd(_0x1fafea._0x4fcda3)]&&this['_mapVRenderer']['clearData']();}['_createCanvas'](){const _0x485b2c={_0x32c10e:0x22d,_0x410ff6:0x229,_0x264bd2:0x1d7,_0x4e9269:0x239,_0x39e19b:0x23c,_0x2c7d6f:0x1fb},_0x50f826=_0x314a4c,_0x13e07a=mars3d__namespace[_0x50f826(0x203)]['create'](_0x50f826(0x1f8),'mars3d-mapv',this[_0x50f826(0x23f)]['container']);_0x13e07a['id']=this['id'],_0x13e07a[_0x50f826(_0x485b2c._0x32c10e)]['position']='absolute',_0x13e07a[_0x50f826(0x22d)]['top']=_0x50f826(_0x485b2c._0x410ff6),_0x13e07a[_0x50f826(0x22d)][_0x50f826(_0x485b2c._0x264bd2)]='0px',_0x13e07a['width']=parseInt(this[_0x50f826(0x23f)][_0x50f826(0x1f8)]['width']),_0x13e07a['height']=parseInt(this['_map']['canvas']['height']),_0x13e07a['style']['width']=this['_map'][_0x50f826(0x1f8)][_0x50f826(_0x485b2c._0x32c10e)]['width'],_0x13e07a[_0x50f826(0x22d)][_0x50f826(0x207)]=this['_map']['canvas']['style']['height'],_0x13e07a['style']['pointerEvents']=this[_0x50f826(0x1da)]?'auto':'none',_0x13e07a['style'][_0x50f826(_0x485b2c._0x4e9269)]=this[_0x50f826(_0x485b2c._0x39e19b)]['zIndex']??0x9;if(this['options']['context']==='2d'){const _0x25fcfd=this[_0x50f826(0x224)];_0x13e07a[_0x50f826(_0x485b2c._0x2c7d6f)](this['options']['context'])['scale'](_0x25fcfd,_0x25fcfd);}return _0x13e07a;}[_0x314a4c(0x21c)](){const _0x3d658c={_0x384edc:0x202},_0x4376e3=_0x314a4c;this[_0x4376e3(0x1f4)](),this[_0x4376e3(_0x3d658c._0x384edc)]();}[_0x314a4c(0x1eb)](){this['_reset']();}['remove'](){const _0x1c9e2d={_0x404b95:0x210,_0x21db1f:0x1d8},_0x45ff85=_0x314a4c;this['_mapVRenderer']&&(this[_0x45ff85(_0x1c9e2d._0x404b95)][_0x45ff85(_0x1c9e2d._0x21db1f)](),this[_0x45ff85(0x210)]=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x314a4c(0x202)](){this['_mapVRenderer']['_canvasUpdate']();}[_0x314a4c(0x1f4)](){const _0x12b81e={_0x325578:0x1f8,_0x2533fc:0x1f8,_0x1912a2:0x219,_0x2f43b1:0x229,_0x2eccf1:0x207,_0x485bc3:0x231,_0x295cb4:0x22d,_0x61bf11:0x23f},_0x1cbd6c=_0x314a4c;if(this[_0x1cbd6c(_0x12b81e._0x325578)]){const _0xfdd8e3=this[_0x1cbd6c(_0x12b81e._0x2533fc)];_0xfdd8e3[_0x1cbd6c(0x22d)][_0x1cbd6c(0x211)]='absolute',_0xfdd8e3['style'][_0x1cbd6c(_0x12b81e._0x1912a2)]=_0x1cbd6c(_0x12b81e._0x2f43b1),_0xfdd8e3['style'][_0x1cbd6c(0x1d7)]=_0x1cbd6c(0x229),_0xfdd8e3['width']=parseInt(this['_map']['canvas']['width']),_0xfdd8e3[_0x1cbd6c(_0x12b81e._0x2eccf1)]=parseInt(this['_map']['canvas'][_0x1cbd6c(_0x12b81e._0x2eccf1)]),_0xfdd8e3[_0x1cbd6c(0x22d)]['width']=this[_0x1cbd6c(0x23f)]['canvas']['style'][_0x1cbd6c(_0x12b81e._0x485bc3)],_0xfdd8e3[_0x1cbd6c(_0x12b81e._0x295cb4)]['height']=this[_0x1cbd6c(_0x12b81e._0x61bf11)][_0x1cbd6c(0x1f8)]['style']['height'];}}['getRectangle'](_0x26942f){const _0x548d63={_0x455bd1:0x21e,_0x3db170:0x1f9,_0xf5dbf2:0x227},_0x448a13=_0x314a4c;if(!this['dataSet']||!this[_0x448a13(_0x548d63._0x455bd1)]['_data'])return;const _0xccd994=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x448a13(_0x548d63._0x3db170)]});if(!_0xccd994)return;return _0x26942f!==null&&_0x26942f!==void 0x0&&_0x26942f['isFormat']?_0xccd994:Cesium[_0x448a13(_0x548d63._0xf5dbf2)]['fromDegrees'](_0xccd994['xmin'],_0xccd994['ymin'],_0xccd994[_0x448a13(0x22f)],_0xccd994['ymax']);}['_onMapClick'](_0x41e827){const _0x42aef9={_0x56dfbd:0x209},_0x3bdf0c=_0x314a4c;this['_cache_event']=_0x41e827,this['_mapVRenderer']&&this[_0x3bdf0c(0x210)]['clickEvent'](_0x41e827[_0x3bdf0c(_0x42aef9._0x56dfbd)],_0x41e827);}['_onMapMouseMove'](_0x50a1ae){const _0x2ee7ab=_0x314a4c;this['_cache_event']=_0x50a1ae,this[_0x2ee7ab(0x210)]&&this['_mapVRenderer']['mousemoveEvent'](_0x50a1ae['windowPosition'],_0x50a1ae);}['on'](_0x375c49,_0x1e6783,_0x4d493b){const _0x53e3a4={_0x3e53aa:0x21d,_0x526a4e:0x23f,_0x1102e3:0x212},_0x5be6ae=_0x314a4c;this['options']['methods']=this[_0x5be6ae(0x23c)]['methods']||{};if(_0x375c49===mars3d__namespace['EventType']['click'])this['options']['methods'][_0x5be6ae(_0x53e3a4._0x3e53aa)]=_0x203e84=>{_0x203e84&&_0x1e6783['bind'](_0x4d493b)({...this['_cache_event'],'layer':this,'data':_0x203e84});},this[_0x5be6ae(_0x53e3a4._0x526a4e)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x375c49===mars3d__namespace['EventType']['mouseMove']&&(this['options'][_0x5be6ae(_0x53e3a4._0x1102e3)][_0x5be6ae(0x238)]=_0x4d3615=>{_0x4d3615&&_0x1e6783['bind'](_0x4d493b)({...this['_cache_event'],'layer':this,'data':_0x4d3615});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x314a4c(0x235)](_0x4da440,_0x486010){const _0x11fbe5={_0x5c3aae:0x23c},_0xf004f0=_0x314a4c;if(_0x4da440==='click'){var _0x727f15;this[_0xf004f0(0x23f)]['off'](_0x4da440,this['_onMapClick'],this),(_0x727f15=this[_0xf004f0(_0x11fbe5._0x5c3aae)][_0xf004f0(0x212)])!==null&&_0x727f15!==void 0x0&&_0x727f15['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x4da440==='mouseMove'){var _0x232f53;this['_map'][_0xf004f0(0x235)](_0x4da440,this['_onMapMouseMove'],this),(_0x232f53=this['options'][_0xf004f0(0x212)])!==null&&_0x232f53!==void 0x0&&_0x232f53['mousemove']&&delete this['options']['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x314a4c(0x1dc)][_0x314a4c(0x221)](_0x314a4c(0x1f2),MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace[_0x314a4c(0x1f2)]=mapv__namespace,exports[_0x314a4c(0x22a)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x1ceeab){const _0xf622d={_0x52fa08:0x20a},_0x4c4164=_0x314a4c;if(_0x1ceeab!=='default'&&!exports['hasOwnProperty'](_0x1ceeab))Object[_0x4c4164(_0xf622d._0x52fa08)](exports,_0x1ceeab,{'enumerable':!![],'get':function(){return mapv[_0x1ceeab];}});}),Object[_0x314a4c(0x20a)](exports,'__esModule',{'value':!![]});
}));
