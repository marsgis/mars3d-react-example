/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.8
 * 编译日期：2023-10-08 23:31:33
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x18278c=_0x1795;function _0x5924(){const _0x533469=['8628840jlcNYf','width','forEach','render','getData','time','getOwnPropertyDescriptor','dataSet','COLOR_BUFFER_BIT','get','save','scale','click','_mapVRenderer','bindEvent','_cache_event','_onMapMouseMove','Cesium','clear','drawContext','start','_onMoveEndEvent','options','canvasLayer','initDevicePixelRatio','1711184GibTfW','methods','stopAniamation','scene','length','absolute','updateData','camera','_removedHook','globe','rgba(0,\x200,\x200,\x20.1)','_pointerEvents','DataSet','keys','top','5dUDwWA','block','_onMapClick','bind','EllipsoidalOccluder','1079211oJWykS','animation','trails','default','mapvAutoHeight','MapVLayer','920481xZwFfG','devicePixelRatio','1503044LeEgkh','7752192VuGCpi','BaseLayer','LineString','argCheck','init','fillStyle','animatorMovestartEvent','context','defineProperty','data','getContext','canvas','EventType','register','container','zIndex','draw','clearData','coordinates','positionWC','_onMoveStartEvent','fromDegrees','destroy','mousemove','isEnabledTime','off','mouseDown','mapvDepthTest','animator','height','_map','update','resize','pointerEvents','_reset','mouseMove','clearRect','processData','1588590FEkJVz','style'];_0x5924=function(){return _0x533469;};return _0x5924();}(function(_0x9c25fa,_0x428a8d){const _0x907d40={_0xdc15df:0x17f,_0x5b09d8:0x13b,_0x43d21b:0x18e,_0x5cd85e:0x164,_0x187310:0x13e},_0x1644fe=_0x1795,_0x235433=_0x9c25fa();while(!![]){try{const _0x485313=-parseInt(_0x1644fe(0x193))/0x1+-parseInt(_0x1644fe(_0x907d40._0xdc15df))/0x2+parseInt(_0x1644fe(_0x907d40._0x5b09d8))/0x3+-parseInt(_0x1644fe(0x13d))/0x4*(-parseInt(_0x1644fe(_0x907d40._0x43d21b))/0x5)+-parseInt(_0x1644fe(_0x907d40._0x5cd85e))/0x6+parseInt(_0x1644fe(_0x907d40._0x187310))/0x7+parseInt(_0x1644fe(0x166))/0x8;if(_0x485313===_0x428a8d)break;else _0x235433['push'](_0x235433['shift']());}catch(_0x58a01f){_0x235433['push'](_0x235433['shift']());}}}(_0x5924,0xa3599));function _0x1795(_0x4087ff,_0x1b0078){const _0x592429=_0x5924();return _0x1795=function(_0x1795e4,_0x1295db){_0x1795e4=_0x1795e4-0x136;let _0x1b6458=_0x592429[_0x1795e4];return _0x1b6458;},_0x1795(_0x4087ff,_0x1b0078);}function _interopNamespace(_0x1f62be){const _0x3eb744={_0x3a2dda:0x16c},_0x5e6c97=_0x1795;if(_0x1f62be&&_0x1f62be['__esModule'])return _0x1f62be;var _0x3d2ea1=Object['create'](null);return _0x1f62be&&Object[_0x5e6c97(0x18c)](_0x1f62be)['forEach'](function(_0x19259c){const _0x12baf9=_0x5e6c97;if(_0x19259c!==_0x12baf9(0x138)){var _0x35c7d9=Object[_0x12baf9(_0x3eb744._0x3a2dda)](_0x1f62be,_0x19259c);Object['defineProperty'](_0x3d2ea1,_0x19259c,_0x35c7d9['get']?_0x35c7d9:{'enumerable':!![],'get':function(){return _0x1f62be[_0x19259c];}});}}),_0x3d2ea1[_0x5e6c97(0x138)]=_0x1f62be,_0x3d2ea1;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x39058f,_0x2c9bbf,_0x2fdeb8,_0x13e2b8){const _0x1d5e72=_0x1795;super(_0x39058f,_0x2c9bbf,_0x2fdeb8);if(!BaseLayer$1)return;this['map']=_0x39058f,this['scene']=_0x39058f['scene'],this[_0x1d5e72(0x16d)]=_0x2c9bbf,_0x2fdeb8=_0x2fdeb8||{},this[_0x1d5e72(0x142)](_0x2fdeb8),this[_0x1d5e72(0x141)](_0x2fdeb8),this['initDevicePixelRatio'](),this[_0x1d5e72(0x17d)]=_0x13e2b8,this[_0x1d5e72(0x181)]=!0x1,this['animation']=_0x2fdeb8['animation'];}['initDevicePixelRatio'](){const _0x4c11bc=_0x1795;this[_0x4c11bc(0x13c)]=window[_0x4c11bc(0x13c)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x22fda4={_0x17087a:0x156,_0x308d82:0x15a},_0x248112=_0x1795,_0x25a49e=this['options'][_0x248112(0x136)];this[_0x248112(_0x22fda4._0x17087a)]()&&this[_0x248112(_0x22fda4._0x308d82)]&&(this['steps']['step']=_0x25a49e['stepsRange'][_0x248112(0x17a)]);}['animatorMoveendEvent'](){const _0x3af12d=_0x1795;this[_0x3af12d(0x156)]()&&this['animator'];}[_0x18278c(0x148)](){const _0xdd1786={_0x56f2fa:0x148},_0x4b9010=_0x18278c;return this[_0x4b9010(0x17d)]['canvas'][_0x4b9010(_0xdd1786._0x56f2fa)](this['context']);}['init'](_0x19b343){const _0x446802={_0x2a9eb2:0x145},_0x404917=_0x18278c;this[_0x404917(0x17c)]=_0x19b343,this['initDataRange'](_0x19b343),this[_0x404917(_0x446802._0x2a9eb2)]=this['options']['context']||'2d',Cesium$1['defined'](this['options']['zIndex'])&&this[_0x404917(0x17d)]&&this['canvasLayer']['setZIndex']&&this[_0x404917(0x17d)]['setZIndex'](this[_0x404917(0x17c)]['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x1f090c){const _0x46f538={_0x204ece:0x143,_0x12278a:0x189,_0x13cad2:0x149,_0x2b82f8:0x16e,_0x16c732:0x17c,_0x5b51b9:0x179,_0x2e3d63:0x18b,_0x2e114c:0x17c},_0x1e6cbf={_0x4012ee:0x16b},_0x5d9bd8={_0x5c0b55:0x192,_0x5b31db:0x188,_0x524cc3:0x186,_0x2eff86:0x151},_0x17b5cf=_0x18278c,_0x5bb14b=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x456ea4=this['options']['animation'],_0x34355b=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x1f090c)return void this[_0x17b5cf(0x178)](_0x34355b);this['context']==='2d'&&(_0x34355b[_0x17b5cf(0x170)](),_0x34355b['globalCompositeOperation']='destination-out',_0x34355b[_0x17b5cf(_0x46f538._0x204ece)]=_0x17b5cf(_0x46f538._0x12278a),_0x34355b['fillRect'](0x0,0x0,_0x34355b[_0x17b5cf(_0x46f538._0x13cad2)]['width'],_0x34355b[_0x17b5cf(0x149)][_0x17b5cf(0x15b)]),_0x34355b['restore']());}else this['clear'](_0x34355b);if(this['context']==='2d')for(const _0x15a9d1 in this['options']){_0x34355b[_0x15a9d1]=this['options'][_0x15a9d1];}else _0x34355b['clear'](_0x34355b[_0x17b5cf(_0x46f538._0x2b82f8)]);const _0x2ca11b={'transferCoordinate':function(_0x29e865){const _0x2ab5b4=_0x17b5cf,_0x1f9be3=null;let _0x44b120=_0x5bb14b['mapvFixedHeight'];_0x5bb14b[_0x2ab5b4(0x139)]&&(_0x44b120=_0x5bb14b['globe']['getHeight'](Cesium$1['Cartographic'][_0x2ab5b4(0x153)](_0x29e865[0x0],_0x29e865[0x1])));const _0xaead79=Cesium$1['Cartesian3']['fromDegrees'](_0x29e865[0x0],_0x29e865[0x1],_0x44b120);if(!_0xaead79)return _0x1f9be3;const _0x3a9e47=_0x5bb14b['cartesianToCanvasCoordinates'](_0xaead79);if(!_0x3a9e47)return _0x1f9be3;if(_0x5bb14b[_0x2ab5b4(0x159)]&&_0x5bb14b['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x27a6b5=new Cesium$1[(_0x2ab5b4(_0x5d9bd8._0x5c0b55))](_0x5bb14b[_0x2ab5b4(_0x5d9bd8._0x5b31db)]['ellipsoid'],_0x5bb14b[_0x2ab5b4(_0x5d9bd8._0x524cc3)][_0x2ab5b4(_0x5d9bd8._0x2eff86)]),_0x3d55f3=_0x27a6b5['isPointVisible'](_0xaead79);if(!_0x3d55f3)return _0x1f9be3;}return[_0x3a9e47['x'],_0x3a9e47['y']];}};void 0x0!==_0x1f090c&&(_0x2ca11b['filter']=function(_0x5f271f){const _0x2b6fc5=_0x17b5cf,_0x254609=_0x456ea4[_0x2b6fc5(0x137)]||0xa;return!!(_0x1f090c&&_0x5f271f[_0x2b6fc5(0x16b)]>_0x1f090c-_0x254609&&_0x5f271f[_0x2b6fc5(_0x1e6cbf._0x4012ee)]<_0x1f090c);});const _0x3cefe7=this['dataSet']['get'](_0x2ca11b);this[_0x17b5cf(0x163)](_0x3cefe7),this['options']['unit']==='m'&&this[_0x17b5cf(_0x46f538._0x16c732)]['size'],this['options']['_size']=this['options']['size'];const _0x269a65=_0x5bb14b['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x269a65)return;this[_0x17b5cf(_0x46f538._0x5b51b9)](_0x34355b,new mapv__namespace[(_0x17b5cf(_0x46f538._0x2e3d63))](_0x3cefe7),this[_0x17b5cf(0x17c)],_0x269a65),this[_0x17b5cf(_0x46f538._0x2e114c)]['updateCallback']&&this['options']['updateCallback'](_0x1f090c);}}['updateData'](_0x1df9af,_0x21b851){const _0x3586df={_0x12f785:0x16f,_0x4327d6:0x15d},_0x5e84b7=_0x18278c;let _0x319f08=_0x1df9af;_0x319f08&&_0x319f08['get']&&(_0x319f08=_0x319f08[_0x5e84b7(_0x3586df._0x12f785)]()),void 0x0!==_0x319f08&&this['dataSet']['set'](_0x319f08),super[_0x5e84b7(_0x3586df._0x4327d6)]({'options':_0x21b851});}['addData'](_0xc2c272,_0x24b18b){const _0x439eb6=_0x18278c;let _0x57de84=_0xc2c272;_0xc2c272&&_0xc2c272[_0x439eb6(0x16f)]&&(_0x57de84=_0xc2c272[_0x439eb6(0x16f)]()),this['dataSet']['add'](_0x57de84),this['update']({'options':_0x24b18b});}[_0x18278c(0x16a)](){return this['dataSet'];}['removeData'](_0x5c323d){const _0x413346={_0x3217c1:0x16d,_0x3649d6:0x16f},_0x47e4d3=_0x18278c;if(this['dataSet']){const _0x35f045=this[_0x47e4d3(_0x413346._0x3217c1)][_0x47e4d3(_0x413346._0x3649d6)]({'filter':function(_0x1504f8){return _0x5c323d==null||typeof _0x5c323d!=='function'||!_0x5c323d(_0x1504f8);}});this[_0x47e4d3(0x16d)]['set'](_0x35f045),this['update']({'options':null});}}['clearData'](){const _0x27539d={_0x40f6d9:0x16d,_0x5b71ef:0x15d},_0x4e60c9=_0x18278c;this['dataSet']&&this[_0x4e60c9(_0x27539d._0x40f6d9)]['clear'](),this[_0x4e60c9(_0x27539d._0x5b71ef)]({'options':null});}[_0x18278c(0x14e)](){this['canvasLayer']['draw']();}['clear'](_0x29927e){const _0x11e9e2={_0x4ca8cd:0x162,_0x39cb12:0x162,_0x34bda9:0x15b},_0x338966=_0x18278c;_0x29927e&&_0x29927e[_0x338966(_0x11e9e2._0x4ca8cd)]&&_0x29927e[_0x338966(_0x11e9e2._0x39cb12)](0x0,0x0,_0x29927e['canvas']['width'],_0x29927e[_0x338966(0x149)][_0x338966(_0x11e9e2._0x34bda9)]);}['destroy'](){const _0x20cb4a={_0x22c2bd:0x178,_0xf2ffba:0x15a,_0x265f57:0x17d},_0x18b289=_0x18278c;this[_0x18b289(_0x20cb4a._0x22c2bd)](this[_0x18b289(0x148)]()),this['clearData'](),this['animator']&&this[_0x18b289(0x15a)]['stop'](),this[_0x18b289(_0x20cb4a._0xf2ffba)]=null,this[_0x18b289(_0x20cb4a._0x265f57)]=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x18278c(0x18b)])mapv__namespace[_0x18278c(0x18b)]['prototype']['transferCoordinate']=function(_0x570e20,_0x82cd69,_0x3d5a21,_0x1d31f3){const _0x14840d={_0x482305:0x150,_0x33657c:0x183},_0x217a76=_0x18278c;_0x1d31f3=_0x1d31f3||'_coordinates',_0x3d5a21=_0x3d5a21||_0x217a76(_0x14840d._0x482305);for(let _0x4c38c5=0x0;_0x4c38c5<_0x570e20['length'];_0x4c38c5++){const _0x35e70b=_0x570e20[_0x4c38c5]['geometry'],_0x5a28c1=_0x35e70b[_0x3d5a21];switch(_0x35e70b['type']){case'Point':{const _0x3061e5=_0x82cd69(_0x5a28c1);_0x3061e5?_0x35e70b[_0x1d31f3]=_0x3061e5:_0x35e70b[_0x1d31f3]=[-0x3e7,-0x3e7];}break;case _0x217a76(0x140):{const _0xd457ce=[];for(let _0x2f69c5=0x0;_0x2f69c5<_0x5a28c1['length'];_0x2f69c5++){const _0x209e68=_0x82cd69(_0x5a28c1[_0x2f69c5]);_0x209e68&&_0xd457ce['push'](_0x209e68);}_0x35e70b[_0x1d31f3]=_0xd457ce;}break;case'MultiLineString':case'Polygon':{const _0x2338d3=_0x43679c(_0x5a28c1);_0x35e70b[_0x1d31f3]=_0x2338d3;}break;case'MultiPolygon':{const _0x30855e=[];for(let _0xf5f37a=0x0;_0xf5f37a<_0x5a28c1['length'];_0xf5f37a++){const _0x502425=_0x43679c(_0x5a28c1[_0xf5f37a]);_0x502425[_0x217a76(_0x14840d._0x33657c)]>0x0&&_0x30855e['push'](_0x502425);}_0x35e70b[_0x1d31f3]=_0x30855e;}break;}}function _0x43679c(_0x2ae3e8){const _0xf038a2=[];for(let _0x28991f=0x0;_0x28991f<_0x2ae3e8['length'];_0x28991f++){const _0x34e2=_0x2ae3e8[_0x28991f],_0x7c2ff5=[];for(let _0x17d146=0x0;_0x17d146<_0x34e2['length'];_0x17d146++){const _0x239a8d=_0x82cd69(_0x34e2[_0x17d146]);_0x239a8d&&_0x7c2ff5['push'](_0x239a8d);}_0x7c2ff5['length']>0x0&&_0xf038a2['push'](_0x7c2ff5);}return _0xf038a2;}return _0x570e20;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x18278c(0x177)],BaseLayer=mars3d__namespace['layer'][_0x18278c(0x13f)];class MapVLayer extends BaseLayer{constructor(_0x1231c7,_0x3f8df2){const _0x405065={_0x43b52f:0x18a},_0x309a21=_0x18278c;super(_0x1231c7),this[_0x309a21(_0x405065._0x43b52f)]=this[_0x309a21(0x17c)]['pointerEvents'],this['dataSet']=_0x3f8df2||new mapv__namespace['DataSet'](_0x1231c7[_0x309a21(0x147)]),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x5bd8c7){const _0x512005={_0x22c55d:0x149,_0x179737:0x15f,_0x3a8868:0x149},_0x5e3c49=_0x18278c;this['_pointerEvents']=_0x5bd8c7,this[_0x5e3c49(_0x512005._0x22c55d)]&&(_0x5bd8c7?this['canvas']['style'][_0x5e3c49(_0x512005._0x179737)]='all':this[_0x5e3c49(_0x512005._0x3a8868)]['style'][_0x5e3c49(_0x512005._0x179737)]='none');}['_showHook'](_0x20aa11){const _0x1252f1=_0x18278c;_0x20aa11?this['canvas'][_0x1252f1(0x165)]['display']=_0x1252f1(0x18f):this['canvas']['style']['display']='none';}['_mountedHook'](){const _0x5692ff={_0x3c0d6d:0x182},_0x3bd324=_0x18278c;this['_map'][_0x3bd324(0x182)]['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map'][_0x3bd324(_0x5692ff._0x3c0d6d)]['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x2cd814={_0x19b641:0x16d,_0x3f5691:0x173,_0x2c161d:0x15c,_0x33a83e:0x174},_0x2d8d12=_0x18278c;this['dataSet']&&(!this[_0x2d8d12(_0x2cd814._0x19b641)]['_data']||this[_0x2d8d12(0x16d)]['_data']['length']===0x0)&&(this[_0x2d8d12(0x16d)]['_data']=[]['concat'](this['dataSet']['_dataCache'])),this[_0x2d8d12(_0x2cd814._0x3f5691)]=new MapVRenderer(this[_0x2d8d12(_0x2cd814._0x2c161d)],this[_0x2d8d12(0x16d)],this['options'],this),this[_0x2d8d12(0x17e)](),this['canvas']=this['_createCanvas'](),this['render']=this[_0x2d8d12(0x169)]['bind'](this),this[_0x2d8d12(_0x2cd814._0x33a83e)](),this[_0x2d8d12(0x160)]();}['_removedHook'](){const _0x476a4f={_0x325ae8:0x173},_0x4122ef=_0x18278c;this['unbindEvent'](),this['_mapVRenderer']&&(this[_0x4122ef(_0x476a4f._0x325ae8)]['destroy'](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x18278c(0x17e)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x18278c(0x174)](){const _0x48712d={_0x38291e:0x15c,_0x36189d:0x158,_0x2d59bd:0x15c,_0x997a63:0x14a,_0x55daa2:0x172,_0x2f682c:0x155},_0x440ddc=_0x18278c;var _0xb62429,_0x2ce9c6,_0x8e3756,_0x556b92;this[_0x440ddc(_0x48712d._0x38291e)]['on'](mars3d__namespace['EventType'][_0x440ddc(_0x48712d._0x36189d)],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace['EventType']['cameraMoveStart'],this[_0x440ddc(0x152)],this),this[_0x440ddc(_0x48712d._0x2d59bd)]['on'](mars3d__namespace[_0x440ddc(0x14a)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0xb62429=this['options'])!==null&&_0xb62429!==void 0x0&&(_0x2ce9c6=_0xb62429['methods'])!==null&&_0x2ce9c6!==void 0x0&&_0x2ce9c6['click']&&this['_map']['on'](mars3d__namespace[_0x440ddc(_0x48712d._0x997a63)][_0x440ddc(_0x48712d._0x55daa2)],this['_onMapClick'],this),(_0x8e3756=this['options'])!==null&&_0x8e3756!==void 0x0&&(_0x556b92=_0x8e3756['methods'])!==null&&_0x556b92!==void 0x0&&_0x556b92[_0x440ddc(_0x48712d._0x2f682c)]&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x440ddc(0x176)],this);}['unbindEvent'](){const _0x49445a={_0x7ce5d2:0x152,_0x56ef43:0x15c,_0x11e2e7:0x157,_0x2a7c15:0x157,_0x2b1529:0x17c,_0x1b1403:0x172},_0x2e6fd8=_0x18278c;var _0x12ad82,_0x7f98f4,_0x4ecf1f,_0x577ea6;this[_0x2e6fd8(0x15c)]['off'](mars3d__namespace['EventType']['mouseDown'],this[_0x2e6fd8(_0x49445a._0x7ce5d2)],this),this[_0x2e6fd8(_0x49445a._0x56ef43)][_0x2e6fd8(0x157)](mars3d__namespace[_0x2e6fd8(0x14a)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this['_map'][_0x2e6fd8(_0x49445a._0x11e2e7)](mars3d__namespace['EventType']['cameraMoveEnd'],this[_0x2e6fd8(0x17b)],this),this['_map'][_0x2e6fd8(_0x49445a._0x2a7c15)](mars3d__namespace['EventType']['postRender'],this[_0x2e6fd8(0x160)],this),(_0x12ad82=this[_0x2e6fd8(_0x49445a._0x2b1529)])!==null&&_0x12ad82!==void 0x0&&(_0x7f98f4=_0x12ad82['methods'])!==null&&_0x7f98f4!==void 0x0&&_0x7f98f4[_0x2e6fd8(_0x49445a._0x1b1403)]&&this[_0x2e6fd8(0x15c)]['off'](mars3d__namespace['EventType']['click'],this[_0x2e6fd8(0x190)],this),(_0x4ecf1f=this['options'])!==null&&_0x4ecf1f!==void 0x0&&(_0x577ea6=_0x4ecf1f['methods'])!==null&&_0x577ea6!==void 0x0&&_0x577ea6['mousemove']&&this['_map']['off'](mars3d__namespace[_0x2e6fd8(0x14a)]['mouseMove'],this[_0x2e6fd8(0x176)],this);}['_onMoveStartEvent'](){const _0x1da332={_0x5b3e1e:0x144},_0x2544d5=_0x18278c;this['_mapVRenderer']&&(this['_mapVRenderer'][_0x2544d5(_0x1da332._0x5b3e1e)](),this['_map']['off'](mars3d__namespace[_0x2544d5(0x14a)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this['_reset'],this));}['_onMoveEndEvent'](){const _0x4120f3={_0x5095e5:0x173,_0x4dad7e:0x160},_0x61a0be=_0x18278c;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace['EventType']['postRender'],this[_0x61a0be(0x160)],this),this[_0x61a0be(_0x4120f3._0x5095e5)]['animatorMoveendEvent'](),this[_0x61a0be(_0x4120f3._0x4dad7e)]());}['_setOptionsHook'](_0x40e3ce,_0x279ff1){const _0xadc5d6={_0xb78b9f:0x187},_0x2b785b=_0x18278c;this[_0x2b785b(_0xadc5d6._0xb78b9f)](),this['_addedHook']();}['addData'](_0x2d0805){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x2d0805,this['options']);}[_0x18278c(0x185)](_0x440712){const _0x353f66={_0xfc15ad:0x173},_0x32bbbb=_0x18278c;this[_0x32bbbb(_0x353f66._0xfc15ad)]&&this['_mapVRenderer']['updateData'](_0x440712,this['options']);}['getData'](){const _0x556ee9={_0x26eb4e:0x173},_0x373f3c=_0x18278c;return this[_0x373f3c(_0x556ee9._0x26eb4e)]&&(this[_0x373f3c(0x16d)]=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x282067){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x282067);}['removeAllData'](){const _0x3fef92=_0x18278c;this[_0x3fef92(0x173)]&&this['_mapVRenderer'][_0x3fef92(0x14f)]();}['_createCanvas'](){const _0x3504b4={_0x420362:0x15c,_0x225f9a:0x184,_0x4d9860:0x167,_0x594495:0x149,_0x484d37:0x165},_0x3aa211=_0x18278c,_0x2ba6a8=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this[_0x3aa211(_0x3504b4._0x420362)][_0x3aa211(0x14c)]);_0x2ba6a8['id']=this['id'],_0x2ba6a8['style']['position']=_0x3aa211(_0x3504b4._0x225f9a),_0x2ba6a8['style'][_0x3aa211(0x18d)]='0px',_0x2ba6a8['style']['left']='0px',_0x2ba6a8[_0x3aa211(_0x3504b4._0x4d9860)]=parseInt(this[_0x3aa211(0x15c)][_0x3aa211(_0x3504b4._0x594495)]['width']),_0x2ba6a8[_0x3aa211(0x15b)]=parseInt(this['_map'][_0x3aa211(0x149)]['height']),_0x2ba6a8[_0x3aa211(0x165)][_0x3aa211(0x167)]=this['_map']['canvas']['style']['width'],_0x2ba6a8['style']['height']=this['_map']['canvas'][_0x3aa211(0x165)]['height'],_0x2ba6a8['style']['pointerEvents']=this['_pointerEvents']?'auto':'none',_0x2ba6a8[_0x3aa211(_0x3504b4._0x484d37)]['zIndex']=this[_0x3aa211(0x17c)][_0x3aa211(0x14d)]??0x9;if(this['options'][_0x3aa211(0x145)]==='2d'){const _0x1e82bc=this['devicePixelRatio'];_0x2ba6a8['getContext'](this['options'][_0x3aa211(0x145)])[_0x3aa211(0x171)](_0x1e82bc,_0x1e82bc);}return _0x2ba6a8;}['_reset'](){const _0x1625f3={_0x1afe5f:0x15e},_0x2aa5c8=_0x18278c;this[_0x2aa5c8(_0x1625f3._0x1afe5f)](),this[_0x2aa5c8(0x169)]();}['draw'](){this['_reset']();}['remove'](){const _0x24874e={_0x341c80:0x154},_0x4026f2=_0x18278c;this['_mapVRenderer']&&(this[_0x4026f2(0x173)][_0x4026f2(_0x24874e._0x341c80)](),this[_0x4026f2(0x173)]=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x18278c(0x15e)](){const _0x2a2610={_0x3a2adb:0x165,_0x2a6cd4:0x15b},_0x19712d=_0x18278c;if(this['canvas']){const _0x342736=this['canvas'];_0x342736['style']['position']='absolute',_0x342736['style']['top']='0px',_0x342736['style']['left']='0px',_0x342736['width']=parseInt(this[_0x19712d(0x15c)]['canvas'][_0x19712d(0x167)]),_0x342736['height']=parseInt(this['_map']['canvas']['height']),_0x342736[_0x19712d(_0x2a2610._0x3a2adb)]['width']=this[_0x19712d(0x15c)][_0x19712d(0x149)]['style']['width'],_0x342736['style'][_0x19712d(_0x2a2610._0x2a6cd4)]=this['_map']['canvas']['style']['height'];}}['getRectangle'](_0x38adcd){const _0x1d72cc={_0x5c0f57:0x16d},_0x3cdde3=_0x18278c;if(!this[_0x3cdde3(_0x1d72cc._0x5c0f57)]||!this['dataSet']['_data'])return;const _0x41ae44=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet']['_data']});if(!_0x41ae44)return;return _0x38adcd!==null&&_0x38adcd!==void 0x0&&_0x38adcd['isFormat']?_0x41ae44:Cesium['Rectangle']['fromDegrees'](_0x41ae44['xmin'],_0x41ae44['ymin'],_0x41ae44['xmax'],_0x41ae44['ymax']);}['_onMapClick'](_0x3dcddd){const _0x11cb69=_0x18278c;this[_0x11cb69(0x175)]=_0x3dcddd,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x3dcddd['windowPosition'],_0x3dcddd);}['_onMapMouseMove'](_0x1c2f01){const _0x4eeda5=_0x18278c;this['_cache_event']=_0x1c2f01,this[_0x4eeda5(0x173)]&&this['_mapVRenderer']['mousemoveEvent'](_0x1c2f01['windowPosition'],_0x1c2f01);}['on'](_0x17f390,_0x1251a4,_0x4bf8aa){const _0x1315b4={_0x29593d:0x180,_0x23fbc6:0x172,_0x103934:0x15c,_0x53dba1:0x161},_0x1581dd={_0x5b931a:0x191},_0x1b166d=_0x18278c;this['options']['methods']=this['options'][_0x1b166d(_0x1315b4._0x29593d)]||{};if(_0x17f390===mars3d__namespace[_0x1b166d(0x14a)][_0x1b166d(_0x1315b4._0x23fbc6)])this['options']['methods'][_0x1b166d(0x172)]=_0x360bda=>{_0x360bda&&_0x1251a4['bind'](_0x4bf8aa)({...this['_cache_event'],'layer':this,'data':_0x360bda});},this[_0x1b166d(_0x1315b4._0x103934)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x17f390===mars3d__namespace['EventType'][_0x1b166d(_0x1315b4._0x53dba1)]&&(this['options']['methods']['mousemove']=_0x226afc=>{const _0x4cf6fe=_0x1b166d;_0x226afc&&_0x1251a4[_0x4cf6fe(_0x1581dd._0x5b931a)](_0x4bf8aa)({...this['_cache_event'],'layer':this,'data':_0x226afc});},this[_0x1b166d(0x15c)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x43eddf,_0x1790d2){const _0x3c8779={_0x251cad:0x176,_0x357a0f:0x17c},_0x41a00=_0x18278c;if(_0x43eddf==='click'){var _0x3a7c6c;this['_map']['off'](_0x43eddf,this['_onMapClick'],this),(_0x3a7c6c=this['options']['methods'])!==null&&_0x3a7c6c!==void 0x0&&_0x3a7c6c['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x43eddf==='mouseMove'){var _0xddaf08;this['_map']['off'](_0x43eddf,this[_0x41a00(_0x3c8779._0x251cad)],this),(_0xddaf08=this[_0x41a00(_0x3c8779._0x357a0f)]['methods'])!==null&&_0xddaf08!==void 0x0&&_0xddaf08['mousemove']&&delete this[_0x41a00(_0x3c8779._0x357a0f)]['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil'][_0x18278c(0x14b)]('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x18278c(0x13a)]=MapVLayer,Object['keys'](mapv)[_0x18278c(0x168)](function(_0x5e77b0){const _0xf286a1={_0x581229:0x138,_0x8fa87d:0x146},_0x20b13a=_0x18278c;if(_0x5e77b0!==_0x20b13a(_0xf286a1._0x581229)&&!exports['hasOwnProperty'](_0x5e77b0))Object[_0x20b13a(_0xf286a1._0x8fa87d)](exports,_0x5e77b0,{'enumerable':!![],'get':function(){return mapv[_0x5e77b0];}});}),Object['defineProperty'](exports,'__esModule',{'value':!![]});
}));
