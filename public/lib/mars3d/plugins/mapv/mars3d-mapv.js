/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.5
 * 编译日期：2023-09-12 12:42:16
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x4a0a(){const _0x54dbf4=['scene','ymax','isEnabledTime','__proto__','canvas','_reset','clickEvent','8491284ZQODlr','_data','animator','mousemove','bind','6hqDoaw','Rectangle','click','xmax','set','31148740iiTjfj','geometry','updateData','cartesianToCanvasCoordinates','removeAllData','auto','MapVLayer','1411028IagzEm','pointerEvents','mapv','drawContext','isPointVisible','3286792GrRXoC','_cache_event','keys','resize','context','DomUtil','FeatureCollection','register','ellipsoid','globe','dataSet','7780129PjdNyp','defineProperty','Point','rgba(0,\x200,\x200,\x20.1)','DataSet','cameraMoveStart','width','mapvFixedHeight','off','camera','getContext','methods','3gBPRBV','EventType','请引入\x20mapv\x20库\x20','_onMoveStartEvent','style','addData','length','cameraMoveEnd','parentElement','bindEvent','add','scale','stopAniamation','get','_mapVRenderer','MultiLineString','time','0px','_pointerEvents','_createCanvas','removeData','Polygon','_onMapMouseMove','864021hGUpSc','setZIndex','create','5QVTQEF','clear','_coordinates','options','draw','left','mouseDown','mousemoveEvent','removeChild','windowPosition','postRender','_addedHook','position','default','Cartesian3','render','container','getOwnPropertyDescriptor','destroy','devicePixelRatio','unbindEvent','animatorMoveendEvent','_map','5750992UVEhTr','Cartographic','display','mouseMove','height','animation','initDevicePixelRatio','_showHook','EllipsoidalOccluder'];_0x4a0a=function(){return _0x54dbf4;};return _0x4a0a();}const _0x5dd912=_0xdcd3;function _0xdcd3(_0x1e2cf5,_0x17183f){const _0x4a0ac0=_0x4a0a();return _0xdcd3=function(_0xdcd36f,_0xbf2223){_0xdcd36f=_0xdcd36f-0x110;let _0xe4fef=_0x4a0ac0[_0xdcd36f];return _0xe4fef;},_0xdcd3(_0x1e2cf5,_0x17183f);}(function(_0x673ddb,_0x5a8061){const _0x20cfb2={_0x559da0:0x155,_0x57557b:0x127,_0x435276:0x16f,_0x36222b:0x11b},_0x27f1ee=_0xdcd3,_0x3243be=_0x673ddb();while(!![]){try{const _0x2ab358=parseInt(_0x27f1ee(_0x20cfb2._0x559da0))/0x1+parseInt(_0x27f1ee(0x122))/0x2*(parseInt(_0x27f1ee(0x13e))/0x3)+-parseInt(_0x27f1ee(_0x20cfb2._0x57557b))/0x4*(-parseInt(_0x27f1ee(0x158))/0x5)+parseInt(_0x27f1ee(0x116))/0x6*(parseInt(_0x27f1ee(0x132))/0x7)+-parseInt(_0x27f1ee(_0x20cfb2._0x435276))/0x8+parseInt(_0x27f1ee(0x111))/0x9+-parseInt(_0x27f1ee(_0x20cfb2._0x36222b))/0xa;if(_0x2ab358===_0x5a8061)break;else _0x3243be['push'](_0x3243be['shift']());}catch(_0x49b0ae){_0x3243be['push'](_0x3243be['shift']());}}}(_0x4a0a,0x95838));function _interopNamespace(_0x54813a){const _0x4d91e9={_0x280b6a:0x169},_0x3d3579=_0xdcd3;if(_0x54813a&&_0x54813a['__esModule'])return _0x54813a;var _0x4bc4dd=Object[_0x3d3579(0x157)](null);return _0x54813a&&Object[_0x3d3579(0x129)](_0x54813a)['forEach'](function(_0x44c051){const _0x3e5f22=_0x3d3579;if(_0x44c051!=='default'){var _0x5b40a4=Object[_0x3e5f22(_0x4d91e9._0x280b6a)](_0x54813a,_0x44c051);Object['defineProperty'](_0x4bc4dd,_0x44c051,_0x5b40a4[_0x3e5f22(0x14b)]?_0x5b40a4:{'enumerable':!![],'get':function(){return _0x54813a[_0x44c051];}});}}),_0x4bc4dd['default']=_0x54813a,_0x4bc4dd;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer[_0x5dd912(0x17b)]:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x11815e,_0xc048b6,_0x1dbee1,_0x1aaa75){const _0x5328b1={_0x563ca1:0x178,_0x2e9e3e:0x174},_0x4361b7=_0x5dd912;super(_0x11815e,_0xc048b6,_0x1dbee1);if(!BaseLayer$1)return;this['map']=_0x11815e,this['scene']=_0x11815e[_0x4361b7(_0x5328b1._0x563ca1)],this['dataSet']=_0xc048b6,_0x1dbee1=_0x1dbee1||{},this['init'](_0x1dbee1),this['argCheck'](_0x1dbee1),this['initDevicePixelRatio'](),this['canvasLayer']=_0x1aaa75,this['stopAniamation']=!0x1,this['animation']=_0x1dbee1[_0x4361b7(_0x5328b1._0x2e9e3e)];}['initDevicePixelRatio'](){const _0xe91c1c={_0x41da26:0x16b},_0x29b92c=_0x5dd912;this[_0x29b92c(_0xe91c1c._0x41da26)]=window[_0x29b92c(0x16b)]||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x51fb52=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this['steps']['step']=_0x51fb52['stepsRange']['start']);}[_0x5dd912(0x16d)](){const _0x44b762=_0x5dd912;this['isEnabledTime']()&&this[_0x44b762(0x113)];}[_0x5dd912(0x13c)](){const _0x45729b={_0x2b1f01:0x17c},_0x54fd64=_0x5dd912;return this['canvasLayer'][_0x54fd64(_0x45729b._0x2b1f01)]['getContext'](this['context']);}['init'](_0x47c556){const _0x57d183=_0x5dd912;this['options']=_0x47c556,this['initDataRange'](_0x47c556),this['context']=this['options']['context']||'2d',this['options']['zIndex']&&this['canvasLayer']&&this['canvasLayer'][_0x57d183(0x156)]&&this['canvasLayer'][_0x57d183(0x156)](this[_0x57d183(0x15b)]['zIndex']),this['initAnimator']();}['_canvasUpdate'](_0x23dae2){const _0x2e8865={_0x2affa9:0x14a,_0x2d793e:0x17a,_0x3228ea:0x17c,_0x99d8ee:0x173,_0x3cdf81:0x159,_0x3edf40:0x12b},_0x45dcda={_0x5b8e5b:0x139,_0x37d348:0x177,_0x320904:0x130,_0xbc1cc:0x12f,_0x1278e7:0x13b,_0x5ef7d7:0x126},_0xdfcf1a=_0x5dd912,_0x5a003e=this[_0xdfcf1a(0x178)];if(this['canvasLayer']&&!this[_0xdfcf1a(_0x2e8865._0x2affa9)]){const _0x2e550f=this[_0xdfcf1a(0x15b)]['animation'],_0x267bec=this['getContext']();if(this[_0xdfcf1a(_0x2e8865._0x2d793e)]()){if(void 0x0===_0x23dae2)return void this['clear'](_0x267bec);this['context']==='2d'&&(_0x267bec['save'](),_0x267bec['globalCompositeOperation']='destination-out',_0x267bec['fillStyle']=_0xdfcf1a(0x135),_0x267bec['fillRect'](0x0,0x0,_0x267bec[_0xdfcf1a(_0x2e8865._0x3228ea)]['width'],_0x267bec['canvas'][_0xdfcf1a(_0x2e8865._0x99d8ee)]),_0x267bec['restore']());}else this[_0xdfcf1a(_0x2e8865._0x3cdf81)](_0x267bec);if(this[_0xdfcf1a(_0x2e8865._0x3edf40)]==='2d')for(const _0x4e0449 in this['options']){_0x267bec[_0x4e0449]=this['options'][_0x4e0449];}else _0x267bec['clear'](_0x267bec['COLOR_BUFFER_BIT']);const _0x28afac={'transferCoordinate':function(_0x541a0c){const _0x79dc50=_0xdfcf1a,_0x2dfede=null;let _0x4c3bc9=_0x5a003e[_0x79dc50(_0x45dcda._0x5b8e5b)];_0x5a003e['mapvAutoHeight']&&(_0x4c3bc9=_0x5a003e['globe']['getHeight'](Cesium$1[_0x79dc50(0x170)]['fromDegrees'](_0x541a0c[0x0],_0x541a0c[0x1])));const _0x21dda4=Cesium$1[_0x79dc50(0x166)]['fromDegrees'](_0x541a0c[0x0],_0x541a0c[0x1],_0x4c3bc9);if(!_0x21dda4)return _0x2dfede;const _0x330803=_0x5a003e['cartesianToCanvasCoordinates'](_0x21dda4);if(!_0x330803)return _0x2dfede;if(_0x5a003e['mapvDepthTest']&&_0x5a003e['mode']===Cesium$1['SceneMode']['SCENE3D']){const _0x3062e8=new Cesium$1[(_0x79dc50(_0x45dcda._0x37d348))](_0x5a003e[_0x79dc50(_0x45dcda._0x320904)][_0x79dc50(_0x45dcda._0xbc1cc)],_0x5a003e[_0x79dc50(_0x45dcda._0x1278e7)]['positionWC']),_0x5e971d=_0x3062e8[_0x79dc50(_0x45dcda._0x5ef7d7)](_0x21dda4);if(!_0x5e971d)return _0x2dfede;}return[_0x330803['x'],_0x330803['y']];}};void 0x0!==_0x23dae2&&(_0x28afac['filter']=function(_0x2e6f37){const _0x33b230=_0xdfcf1a,_0x136500=_0x2e550f['trails']||0xa;return!!(_0x23dae2&&_0x2e6f37['time']>_0x23dae2-_0x136500&&_0x2e6f37[_0x33b230(0x14e)]<_0x23dae2);});const _0x55b3a1=this[_0xdfcf1a(0x131)]['get'](_0x28afac);this['processData'](_0x55b3a1),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x40e17e=_0x5a003e[_0xdfcf1a(0x11e)](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x40e17e)return;this[_0xdfcf1a(0x125)](_0x267bec,new mapv__namespace['DataSet'](_0x55b3a1),this['options'],_0x40e17e),this[_0xdfcf1a(0x15b)]['updateCallback']&&this['options']['updateCallback'](_0x23dae2);}}['updateData'](_0xf4bb94,_0x160ce7){const _0x36bf8a=_0x5dd912;let _0x38da22=_0xf4bb94;_0x38da22&&_0x38da22['get']&&(_0x38da22=_0x38da22['get']()),void 0x0!==_0x38da22&&this['dataSet'][_0x36bf8a(0x11a)](_0x38da22),super['update']({'options':_0x160ce7});}[_0x5dd912(0x143)](_0x370267,_0xe01fe8){const _0x1f642a={_0x1e4ad8:0x14b},_0x42f2f4=_0x5dd912;let _0x186540=_0x370267;_0x370267&&_0x370267[_0x42f2f4(_0x1f642a._0x1e4ad8)]&&(_0x186540=_0x370267['get']()),this['dataSet'][_0x42f2f4(0x148)](_0x186540),this['update']({'options':_0xe01fe8});}['getData'](){const _0x1b7879={_0x332dc9:0x131},_0x4961e3=_0x5dd912;return this[_0x4961e3(_0x1b7879._0x332dc9)];}[_0x5dd912(0x152)](_0x25e4d3){const _0x43386f={_0x29a5f0:0x11a},_0x312a1e=_0x5dd912;if(this['dataSet']){const _0x13ca95=this['dataSet']['get']({'filter':function(_0x35b391){return _0x25e4d3==null||typeof _0x25e4d3!=='function'||!_0x25e4d3(_0x35b391);}});this['dataSet'][_0x312a1e(_0x43386f._0x29a5f0)](_0x13ca95),this['update']({'options':null});}}['clearData'](){const _0x34fee5={_0x1f5575:0x131},_0x6ccd55=_0x5dd912;this['dataSet']&&this[_0x6ccd55(_0x34fee5._0x1f5575)]['clear'](),this['update']({'options':null});}['draw'](){const _0x3a884a=_0x5dd912;this['canvasLayer'][_0x3a884a(0x15c)]();}['clear'](_0x1ecf07){const _0x41e287={_0x42af72:0x173},_0x5b6c64=_0x5dd912;_0x1ecf07&&_0x1ecf07['clearRect']&&_0x1ecf07['clearRect'](0x0,0x0,_0x1ecf07['canvas'][_0x5b6c64(0x138)],_0x1ecf07[_0x5b6c64(0x17c)][_0x5b6c64(_0x41e287._0x42af72)]);}['destroy'](){const _0x57df49={_0x5cf874:0x113},_0x5cb1c7=_0x5dd912;this['clear'](this['getContext']()),this['clearData'](),this[_0x5cb1c7(_0x57df49._0x5cf874)]&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace[_0x5dd912(0x136)])mapv__namespace[_0x5dd912(0x136)]['prototype']['transferCoordinate']=function(_0xae1339,_0x1a1b08,_0x1bf0c7,_0x20a0d1){const _0xa01c3a={_0x1867f1:0x15a,_0x49f546:0x144,_0x6d3e4c:0x134,_0x2e5269:0x14d},_0x5895ac=_0x5dd912;_0x20a0d1=_0x20a0d1||_0x5895ac(_0xa01c3a._0x1867f1),_0x1bf0c7=_0x1bf0c7||'coordinates';for(let _0x26835f=0x0;_0x26835f<_0xae1339[_0x5895ac(_0xa01c3a._0x49f546)];_0x26835f++){const _0x1f8690=_0xae1339[_0x26835f][_0x5895ac(0x11c)],_0x4b0ebb=_0x1f8690[_0x1bf0c7];switch(_0x1f8690['type']){case _0x5895ac(_0xa01c3a._0x6d3e4c):{const _0x48978d=_0x1a1b08(_0x4b0ebb);_0x48978d?_0x1f8690[_0x20a0d1]=_0x48978d:_0x1f8690[_0x20a0d1]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x2681af=[];for(let _0x9c9fbe=0x0;_0x9c9fbe<_0x4b0ebb['length'];_0x9c9fbe++){const _0x31d246=_0x1a1b08(_0x4b0ebb[_0x9c9fbe]);_0x31d246&&_0x2681af['push'](_0x31d246);}_0x1f8690[_0x20a0d1]=_0x2681af;}break;case _0x5895ac(_0xa01c3a._0x2e5269):case _0x5895ac(0x153):{const _0x1403ce=_0x27b59e(_0x4b0ebb);_0x1f8690[_0x20a0d1]=_0x1403ce;}break;case'MultiPolygon':{const _0x55904c=[];for(let _0x2df708=0x0;_0x2df708<_0x4b0ebb['length'];_0x2df708++){const _0x24c957=_0x27b59e(_0x4b0ebb[_0x2df708]);_0x24c957['length']>0x0&&_0x55904c['push'](_0x24c957);}_0x1f8690[_0x20a0d1]=_0x55904c;}break;}}function _0x27b59e(_0x1142f0){const _0x3db6ed=_0x5895ac,_0x481c65=[];for(let _0x2d24e5=0x0;_0x2d24e5<_0x1142f0['length'];_0x2d24e5++){const _0x2c18a6=_0x1142f0[_0x2d24e5],_0x147261=[];for(let _0x5d6e60=0x0;_0x5d6e60<_0x2c18a6[_0x3db6ed(0x144)];_0x5d6e60++){const _0x2017e9=_0x1a1b08(_0x2c18a6[_0x5d6e60]);_0x2017e9&&_0x147261['push'](_0x2017e9);}_0x147261[_0x3db6ed(0x144)]>0x0&&_0x481c65['push'](_0x147261);}return _0x481c65;}return _0xae1339;};else throw new Error(_0x5dd912(0x140));const Cesium=mars3d__namespace['Cesium'],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x111d51,_0x2c349a){const _0x3a781d=_0x5dd912;super(_0x111d51),this['_pointerEvents']=this[_0x3a781d(0x15b)][_0x3a781d(0x123)],this['dataSet']=_0x2c349a||new mapv__namespace[(_0x3a781d(0x136))](_0x111d51['data']),this['canvas']=null;}get['pointerEvents'](){return this['_pointerEvents'];}set['pointerEvents'](_0x2c3731){const _0x466e16=_0x5dd912;this[_0x466e16(0x150)]=_0x2c3731,this['canvas']&&(_0x2c3731?this['canvas'][_0x466e16(0x142)]['pointerEvents']='all':this[_0x466e16(0x17c)]['style'][_0x466e16(0x123)]='none');}[_0x5dd912(0x176)](_0x190a70){const _0x3766d6={_0x4cf11f:0x17c,_0x1544dd:0x142,_0x266a28:0x171},_0x26cebc=_0x5dd912;_0x190a70?this[_0x26cebc(0x17c)]['style']['display']='block':this[_0x26cebc(_0x3766d6._0x4cf11f)][_0x26cebc(_0x3766d6._0x1544dd)][_0x26cebc(_0x3766d6._0x266a28)]='none';}['_mountedHook'](){const _0x124b64={_0x14aa55:0x178,_0x59fbb9:0x15b},_0x5ab529=_0x5dd912;this['_map'][_0x5ab529(_0x124b64._0x14aa55)]['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options']['clampToGround']??![],this['_map'][_0x5ab529(_0x124b64._0x14aa55)][_0x5ab529(0x139)]=this[_0x5ab529(_0x124b64._0x59fbb9)]['fixedHeight']??0x0;}[_0x5dd912(0x163)](){const _0x59489a={_0x56e483:0x112,_0x1dfd6a:0x131,_0x2bd9d4:0x14c,_0x527e3f:0x131,_0x3e022f:0x167,_0x4479d4:0x115},_0x182d34=_0x5dd912;this['dataSet']&&(!this[_0x182d34(0x131)]['_data']||this['dataSet'][_0x182d34(_0x59489a._0x56e483)]['length']===0x0)&&(this[_0x182d34(0x131)]['_data']=[]['concat'](this[_0x182d34(_0x59489a._0x1dfd6a)]['_dataCache'])),this[_0x182d34(_0x59489a._0x2bd9d4)]=new MapVRenderer(this['_map'],this[_0x182d34(_0x59489a._0x527e3f)],this['options'],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this['render']=this[_0x182d34(_0x59489a._0x3e022f)][_0x182d34(_0x59489a._0x4479d4)](this),this['bindEvent'](),this['_reset']();}['_removedHook'](){const _0x27f26f={_0x16f682:0x16c},_0x4ddbc8=_0x5dd912;this[_0x4ddbc8(_0x27f26f._0x16f682)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this['canvas'][_0x4ddbc8(0x146)][_0x4ddbc8(0x160)](this['canvas']);}[_0x5dd912(0x175)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}[_0x5dd912(0x147)](){const _0x11f413={_0x4f42fd:0x16e,_0x27df45:0x145,_0x2547dc:0x15b},_0x4c0153=_0x5dd912;var _0x3e07cf,_0x2cdf33,_0x1b463c,_0x2042a0;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this[_0x4c0153(0x141)],this),this[_0x4c0153(_0x11f413._0x4f42fd)]['on'](mars3d__namespace['EventType'][_0x4c0153(0x137)],this[_0x4c0153(0x141)],this),this[_0x4c0153(_0x11f413._0x4f42fd)]['on'](mars3d__namespace['EventType'][_0x4c0153(_0x11f413._0x27df45)],this['_onMoveEndEvent'],this),(_0x3e07cf=this['options'])!==null&&_0x3e07cf!==void 0x0&&(_0x2cdf33=_0x3e07cf['methods'])!==null&&_0x2cdf33!==void 0x0&&_0x2cdf33['click']&&this[_0x4c0153(0x16e)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x1b463c=this[_0x4c0153(_0x11f413._0x2547dc)])!==null&&_0x1b463c!==void 0x0&&(_0x2042a0=_0x1b463c['methods'])!==null&&_0x2042a0!==void 0x0&&_0x2042a0['mousemove']&&this[_0x4c0153(_0x11f413._0x4f42fd)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}[_0x5dd912(0x16c)](){const _0x5ed3bc={_0x29e613:0x15e,_0x24322a:0x141,_0x33b146:0x137,_0x5e3bda:0x15b,_0x48e8b3:0x114,_0x5c6035:0x16e,_0x80252d:0x172},_0x5c6e8e=_0x5dd912;var _0x52ca72,_0x1ca728,_0x145946,_0x216ce3;this['_map']['off'](mars3d__namespace['EventType'][_0x5c6e8e(_0x5ed3bc._0x29e613)],this[_0x5c6e8e(_0x5ed3bc._0x24322a)],this),this['_map']['off'](mars3d__namespace['EventType'][_0x5c6e8e(_0x5ed3bc._0x33b146)],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),(_0x52ca72=this['options'])!==null&&_0x52ca72!==void 0x0&&(_0x1ca728=_0x52ca72['methods'])!==null&&_0x1ca728!==void 0x0&&_0x1ca728['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x145946=this[_0x5c6e8e(_0x5ed3bc._0x5e3bda)])!==null&&_0x145946!==void 0x0&&(_0x216ce3=_0x145946['methods'])!==null&&_0x216ce3!==void 0x0&&_0x216ce3[_0x5c6e8e(_0x5ed3bc._0x48e8b3)]&&this[_0x5c6e8e(_0x5ed3bc._0x5c6035)]['off'](mars3d__namespace['EventType'][_0x5c6e8e(_0x5ed3bc._0x80252d)],this['_onMapMouseMove'],this);}[_0x5dd912(0x141)](){const _0x1813d7={_0x7430e4:0x13f,_0x5d3620:0x162,_0x1ea81b:0x17d},_0x3a557b=_0x5dd912;this[_0x3a557b(0x14c)]&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map']['off'](mars3d__namespace['EventType']['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace[_0x3a557b(_0x1813d7._0x7430e4)][_0x3a557b(_0x1813d7._0x5d3620)],this[_0x3a557b(_0x1813d7._0x1ea81b)],this));}['_onMoveEndEvent'](){const _0x5b07ce=_0x5dd912;this['_mapVRenderer']&&(this['_map']['off'](mars3d__namespace[_0x5b07ce(0x13f)]['postRender'],this['_reset'],this),this[_0x5b07ce(0x14c)]['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0x9eaf09,_0x2dda28){const _0x445025=_0x5dd912;this['_removedHook'](),this[_0x445025(0x163)]();}['addData'](_0x417727){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x417727,this['options']);}[_0x5dd912(0x11d)](_0xfc0665){const _0x34e612={_0x13ad0e:0x14c},_0x10ffec=_0x5dd912;this['_mapVRenderer']&&this[_0x10ffec(_0x34e612._0x13ad0e)]['updateData'](_0xfc0665,this['options']);}['getData'](){const _0x59e989=_0x5dd912;return this['_mapVRenderer']&&(this['dataSet']=this['_mapVRenderer']['getData']()),this[_0x59e989(0x131)];}[_0x5dd912(0x152)](_0xfd3900){const _0xc7d71d=_0x5dd912;this[_0xc7d71d(0x14c)]&&this['_mapVRenderer']['removeData'](_0xfd3900);}[_0x5dd912(0x11f)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x5dd912(0x151)](){const _0x448af2={_0x454018:0x157,_0x13ae8d:0x168,_0x14221b:0x15d,_0x188f9e:0x16e,_0x57179f:0x17c,_0x48447a:0x173,_0x31e8b5:0x142,_0x2b442b:0x120,_0x47c031:0x13c},_0xdf5615=_0x5dd912,_0x51588e=mars3d__namespace[_0xdf5615(0x12c)][_0xdf5615(_0x448af2._0x454018)]('canvas','mars3d-mapv',this['_map'][_0xdf5615(_0x448af2._0x13ae8d)]);_0x51588e['id']=this['id'],_0x51588e['style'][_0xdf5615(0x164)]='absolute',_0x51588e['style']['top']='0px',_0x51588e['style'][_0xdf5615(_0x448af2._0x14221b)]='0px',_0x51588e['width']=parseInt(this[_0xdf5615(_0x448af2._0x188f9e)]['canvas']['width']),_0x51588e['height']=parseInt(this['_map'][_0xdf5615(_0x448af2._0x57179f)][_0xdf5615(_0x448af2._0x48447a)]),_0x51588e['style']['width']=this['_map']['canvas']['style']['width'],_0x51588e['style']['height']=this['_map']['canvas'][_0xdf5615(_0x448af2._0x31e8b5)]['height'],_0x51588e['style']['pointerEvents']=this['_pointerEvents']?_0xdf5615(_0x448af2._0x2b442b):'none',_0x51588e['style']['zIndex']=this[_0xdf5615(0x15b)]['zIndex']??0x9;if(this[_0xdf5615(0x15b)]['context']==='2d'){const _0x135324=this['devicePixelRatio'];_0x51588e[_0xdf5615(_0x448af2._0x47c031)](this[_0xdf5615(0x15b)]['context'])[_0xdf5615(0x149)](_0x135324,_0x135324);}return _0x51588e;}['_reset'](){const _0x1f6945=_0x5dd912;this[_0x1f6945(0x12a)](),this['render']();}['draw'](){this['_reset']();}['remove'](){const _0x3c51c6={_0xe5c62f:0x17c},_0x500c88=_0x5dd912;this[_0x500c88(0x14c)]&&(this['_mapVRenderer'][_0x500c88(0x16a)](),this['_mapVRenderer']=null),this[_0x500c88(0x17c)]['parentElement'][_0x500c88(0x160)](this[_0x500c88(_0x3c51c6._0xe5c62f)]);}['render'](){this['_mapVRenderer']['_canvasUpdate']();}[_0x5dd912(0x12a)](){const _0x7005e9={_0xea4787:0x142,_0x1c66f9:0x16e,_0xa31462:0x138,_0x5660e9:0x142},_0x13a562=_0x5dd912;if(this['canvas']){const _0x262a69=this['canvas'];_0x262a69['style'][_0x13a562(0x164)]='absolute',_0x262a69[_0x13a562(_0x7005e9._0xea4787)]['top']=_0x13a562(0x14f),_0x262a69['style']['left']='0px',_0x262a69['width']=parseInt(this[_0x13a562(_0x7005e9._0x1c66f9)]['canvas']['width']),_0x262a69['height']=parseInt(this['_map']['canvas']['height']),_0x262a69['style'][_0x13a562(_0x7005e9._0xa31462)]=this['_map']['canvas']['style'][_0x13a562(_0x7005e9._0xa31462)],_0x262a69['style'][_0x13a562(0x173)]=this['_map']['canvas'][_0x13a562(_0x7005e9._0x5660e9)]['height'];}}['getRectangle'](_0x1137a7){const _0x4c97f1={_0x18c654:0x12d,_0x14f0fe:0x117},_0x3b0101=_0x5dd912;if(!this['dataSet']||!this['dataSet']['_data'])return;const _0x23f78f=mars3d__namespace['Util']['getExtentByGeoJSON']({'type':_0x3b0101(_0x4c97f1._0x18c654),'features':this['dataSet'][_0x3b0101(0x112)]});if(!_0x23f78f)return;return _0x1137a7!==null&&_0x1137a7!==void 0x0&&_0x1137a7['isFormat']?_0x23f78f:Cesium[_0x3b0101(_0x4c97f1._0x14f0fe)]['fromDegrees'](_0x23f78f['xmin'],_0x23f78f['ymin'],_0x23f78f[_0x3b0101(0x119)],_0x23f78f[_0x3b0101(0x179)]);}['_onMapClick'](_0x751dc3){const _0x377194={_0x43512d:0x110,_0x1393f7:0x161},_0x57b488=_0x5dd912;this['_cache_event']=_0x751dc3,this['_mapVRenderer']&&this['_mapVRenderer'][_0x57b488(_0x377194._0x43512d)](_0x751dc3[_0x57b488(_0x377194._0x1393f7)],_0x751dc3);}[_0x5dd912(0x154)](_0x2c2ba8){const _0x54fda3={_0x5a97cd:0x15f,_0x2cf6bb:0x161},_0x5839eb=_0x5dd912;this[_0x5839eb(0x128)]=_0x2c2ba8,this[_0x5839eb(0x14c)]&&this[_0x5839eb(0x14c)][_0x5839eb(_0x54fda3._0x5a97cd)](_0x2c2ba8[_0x5839eb(_0x54fda3._0x2cf6bb)],_0x2c2ba8);}['on'](_0x2ec2b4,_0xa181ce,_0x5cfb29){const _0x23ee80={_0xedbef9:0x118,_0x34e0cb:0x16e},_0x47e841={_0x295b27:0x115},_0x2ec584=_0x5dd912;this['options']['methods']=this[_0x2ec584(0x15b)]['methods']||{};if(_0x2ec2b4===mars3d__namespace['EventType']['click'])this['options'][_0x2ec584(0x13d)][_0x2ec584(_0x23ee80._0xedbef9)]=_0x1867b1=>{const _0x177df7=_0x2ec584;_0x1867b1&&_0xa181ce[_0x177df7(_0x47e841._0x295b27)](_0x5cfb29)({...this['_cache_event'],'layer':this,'data':_0x1867b1});},this[_0x2ec584(_0x23ee80._0x34e0cb)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this);else _0x2ec2b4===mars3d__namespace['EventType']['mouseMove']&&(this[_0x2ec584(0x15b)][_0x2ec584(0x13d)]['mousemove']=_0x14ef1b=>{const _0x59bc0b=_0x2ec584;_0x14ef1b&&_0xa181ce['bind'](_0x5cfb29)({...this[_0x59bc0b(0x128)],'layer':this,'data':_0x14ef1b});},this[_0x2ec584(0x16e)]['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this));return this;}[_0x5dd912(0x13a)](_0x52d2a7,_0x397f52){const _0x265317={_0x29c7fb:0x15b},_0x44bed7=_0x5dd912;if(_0x52d2a7==='click'){var _0x104945;this['_map']['off'](_0x52d2a7,this['_onMapClick'],this),(_0x104945=this['options']['methods'])!==null&&_0x104945!==void 0x0&&_0x104945['mousemove']&&delete this['options']['methods'][_0x44bed7(0x118)];}else{if(_0x52d2a7==='mouseMove'){var _0x877a02;this['_map']['off'](_0x52d2a7,this['_onMapMouseMove'],this),(_0x877a02=this[_0x44bed7(_0x265317._0x29c7fb)]['methods'])!==null&&_0x877a02!==void 0x0&&_0x877a02['mousemove']&&delete this['options'][_0x44bed7(0x13d)][_0x44bed7(0x114)];}}return this;}}mars3d__namespace['LayerUtil'][_0x5dd912(0x12e)](_0x5dd912(0x124),MapVLayer),mars3d__namespace['layer'][_0x5dd912(0x121)]=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x22bf9f){const _0x5aadf3={_0x2ac323:0x165},_0x1acc0f=_0x5dd912;if(_0x22bf9f!==_0x1acc0f(_0x5aadf3._0x2ac323)&&!exports['hasOwnProperty'](_0x22bf9f))Object['defineProperty'](exports,_0x22bf9f,{'enumerable':!![],'get':function(){return mapv[_0x22bf9f];}});}),Object[_0x5dd912(0x133)](exports,'__esModule',{'value':!![]});
}));
