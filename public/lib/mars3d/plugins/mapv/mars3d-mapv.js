/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.4
 * 编译日期：2023-09-05 14:31:23
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';function _0x1a41(_0x273a02,_0xc6bab){const _0x43d176=_0x43d1();return _0x1a41=function(_0x1a41ae,_0x214b2a){_0x1a41ae=_0x1a41ae-0xea;let _0x46a40d=_0x43d176[_0x1a41ae];return _0x46a40d;},_0x1a41(_0x273a02,_0xc6bab);}const _0x5e96f6=_0x1a41;(function(_0x1d4a60,_0x48557a){const _0x1f04c9={_0x2d8426:0x120,_0x4f3f30:0x153,_0x284ccf:0x13e},_0x4428df=_0x1a41,_0x1619d5=_0x1d4a60();while(!![]){try{const _0x46acdb=parseInt(_0x4428df(0x103))/0x1*(parseInt(_0x4428df(0x137))/0x2)+-parseInt(_0x4428df(0x12d))/0x3+parseInt(_0x4428df(0x118))/0x4*(parseInt(_0x4428df(0x12f))/0x5)+parseInt(_0x4428df(_0x1f04c9._0x2d8426))/0x6+parseInt(_0x4428df(0x12a))/0x7*(parseInt(_0x4428df(_0x1f04c9._0x4f3f30))/0x8)+parseInt(_0x4428df(0x15b))/0x9+-parseInt(_0x4428df(_0x1f04c9._0x284ccf))/0xa;if(_0x46acdb===_0x48557a)break;else _0x1619d5['push'](_0x1619d5['shift']());}catch(_0x168583){_0x1619d5['push'](_0x1619d5['shift']());}}}(_0x43d1,0x19724));function _0x43d1(){const _0x2d2e0f=['Rectangle','_onMapMouseMove','concat','clear','clampToGround','1138344PkYGEr','Point','_reset','draw','_showHook','style','getContext','container','1739961gLonfO','context','off','fromDegrees','__esModule','ymin','canvas','_createCanvas','animator','hasOwnProperty','width','layer','Cesium','top','LayerUtil','filter','fixedHeight','unbindEvent','display','update','bind','cameraMoveStart','updateCallback','_onMoveStartEvent','devicePixelRatio','FeatureCollection','get','1rWJHyL','_onMapClick','height','steps','default','methods','animatorMoveendEvent','mousemove','initDevicePixelRatio','pointerEvents','_removedHook','EventType','MultiPolygon','_map','addData','baiduMapLayer','click','LineString','destroy','Util','SceneMode','4zJSzeN','prototype','resize','render','trails','bindEvent','remove','clearData','303294NncxHc','dataSet','postRender','push','removeAllData','initDataRange','_cache_event','SCENE3D','animation','cartesianToCanvasCoordinates','7vvBZVS','defineProperty','step','289527kWBnzO','options','263090KFKEUJ','ellipsoid','_data','position','add','length','globe','fillRect','100726eovXEt','removeChild','_pointerEvents','auto','keys','_canvasUpdate','transferCoordinate','2884150HqPAkW','_mapVRenderer','scene','cameraMoveEnd','positionWC','_setOptionsHook','_addedHook','left','start','absolute','zIndex','canvasLayer','map','set','_onMoveEndEvent','xmin'];_0x43d1=function(){return _0x2d2e0f;};return _0x43d1();}function _interopNamespace(_0x3150c9){const _0x5b7244={_0x529999:0x107};if(_0x3150c9&&_0x3150c9['__esModule'])return _0x3150c9;var _0x54e8dd=Object['create'](null);return _0x3150c9&&Object['keys'](_0x3150c9)['forEach'](function(_0x1b9643){const _0x3abaee=_0x1a41;if(_0x1b9643!==_0x3abaee(_0x5b7244._0x529999)){var _0x690a16=Object['getOwnPropertyDescriptor'](_0x3150c9,_0x1b9643);Object['defineProperty'](_0x54e8dd,_0x1b9643,_0x690a16[_0x3abaee(0x102)]?_0x690a16:{'enumerable':!![],'get':function(){return _0x3150c9[_0x1b9643];}});}}),_0x54e8dd['default']=_0x3150c9,_0x54e8dd;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace['Cesium'],baiduMapLayer=mapv__namespace?mapv__namespace[_0x5e96f6(0x112)]:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x2d361b,_0x24f0a0,_0x93a6b7,_0x2854c2){const _0x291043={_0x34492b:0x14a,_0x41bf6a:0x121},_0x100a70=_0x5e96f6;super(_0x2d361b,_0x24f0a0,_0x93a6b7);if(!BaseLayer$1)return;this[_0x100a70(_0x291043._0x34492b)]=_0x2d361b,this['scene']=_0x2d361b['scene'],this[_0x100a70(_0x291043._0x41bf6a)]=_0x24f0a0,_0x93a6b7=_0x93a6b7||{},this['init'](_0x93a6b7),this['argCheck'](_0x93a6b7),this['initDevicePixelRatio'](),this[_0x100a70(0x149)]=_0x2854c2,this['stopAniamation']=!0x1,this[_0x100a70(0x128)]=_0x93a6b7['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}['animatorMovestartEvent'](){const _0x274fec={_0x495379:0x106,_0x29d1f2:0x146},_0x26d7fe=_0x5e96f6,_0x2a1677=this['options']['animation'];this['isEnabledTime']()&&this['animator']&&(this[_0x26d7fe(_0x274fec._0x495379)][_0x26d7fe(0x12c)]=_0x2a1677['stepsRange'][_0x26d7fe(_0x274fec._0x29d1f2)]);}[_0x5e96f6(0x109)](){const _0xecc809=_0x5e96f6;this['isEnabledTime']()&&this[_0xecc809(0xf0)];}[_0x5e96f6(0x159)](){const _0x1e317a={_0x30b976:0x149,_0x2d3aef:0xee},_0x2cdc2c=_0x5e96f6;return this[_0x2cdc2c(_0x1e317a._0x30b976)][_0x2cdc2c(_0x1e317a._0x2d3aef)][_0x2cdc2c(0x159)](this['context']);}['init'](_0x342f41){const _0x3fac52={_0x241f32:0x149,_0xdd4171:0x148},_0x350cc3=_0x5e96f6;this['options']=_0x342f41,this[_0x350cc3(0x125)](_0x342f41),this['context']=this['options']['context']||'2d',this[_0x350cc3(0x12e)]['zIndex']&&this[_0x350cc3(0x149)]&&this[_0x350cc3(0x149)]['setZIndex']&&this[_0x350cc3(_0x3fac52._0x241f32)]['setZIndex'](this['options'][_0x350cc3(_0x3fac52._0xdd4171)]),this['initAnimator']();}['_canvasUpdate'](_0x2069e3){const _0x157562={_0x3cbb67:0x12e,_0x5cfa65:0x151},_0x1cbc02={_0x6706aa:0x11c},_0x430f84={_0x366346:0x129,_0x4c11d8:0x117,_0x1aa3eb:0x127,_0x407213:0x135,_0x541414:0x130},_0x4b8d86=_0x5e96f6,_0x4c0528=this['scene'];if(this['canvasLayer']&&!this['stopAniamation']){const _0x368e3c=this[_0x4b8d86(_0x157562._0x3cbb67)]['animation'],_0x2e29f0=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x2069e3)return void this[_0x4b8d86(_0x157562._0x5cfa65)](_0x2e29f0);this['context']==='2d'&&(_0x2e29f0['save'](),_0x2e29f0['globalCompositeOperation']='destination-out',_0x2e29f0['fillStyle']='rgba(0,\x200,\x200,\x20.1)',_0x2e29f0[_0x4b8d86(0x136)](0x0,0x0,_0x2e29f0['canvas']['width'],_0x2e29f0['canvas']['height']),_0x2e29f0['restore']());}else this[_0x4b8d86(_0x157562._0x5cfa65)](_0x2e29f0);if(this['context']==='2d')for(const _0x20c299 in this[_0x4b8d86(0x12e)]){_0x2e29f0[_0x20c299]=this['options'][_0x20c299];}else _0x2e29f0['clear'](_0x2e29f0['COLOR_BUFFER_BIT']);const _0x2c5ae6={'transferCoordinate':function(_0x27a134){const _0x54c953=_0x4b8d86,_0x5b7237=null;let _0x55156f=_0x4c0528['mapvFixedHeight'];_0x4c0528['mapvAutoHeight']&&(_0x55156f=_0x4c0528['globe']['getHeight'](Cesium$1['Cartographic'][_0x54c953(0xeb)](_0x27a134[0x0],_0x27a134[0x1])));const _0x5aa128=Cesium$1['Cartesian3']['fromDegrees'](_0x27a134[0x0],_0x27a134[0x1],_0x55156f);if(!_0x5aa128)return _0x5b7237;const _0x1bfc70=_0x4c0528[_0x54c953(_0x430f84._0x366346)](_0x5aa128);if(!_0x1bfc70)return _0x5b7237;if(_0x4c0528['mapvDepthTest']&&_0x4c0528['mode']===Cesium$1[_0x54c953(_0x430f84._0x4c11d8)][_0x54c953(_0x430f84._0x1aa3eb)]){const _0x58c34f=new Cesium$1['EllipsoidalOccluder'](_0x4c0528[_0x54c953(_0x430f84._0x407213)][_0x54c953(_0x430f84._0x541414)],_0x4c0528['camera'][_0x54c953(0x142)]),_0x3da78d=_0x58c34f['isPointVisible'](_0x5aa128);if(!_0x3da78d)return _0x5b7237;}return[_0x1bfc70['x'],_0x1bfc70['y']];}};void 0x0!==_0x2069e3&&(_0x2c5ae6[_0x4b8d86(0xf7)]=function(_0x1976b7){const _0x52029e=_0x4b8d86,_0x5e28c2=_0x368e3c[_0x52029e(_0x1cbc02._0x6706aa)]||0xa;return!!(_0x2069e3&&_0x1976b7['time']>_0x2069e3-_0x5e28c2&&_0x1976b7['time']<_0x2069e3);});const _0x4b6da8=this['dataSet']['get'](_0x2c5ae6);this['processData'](_0x4b6da8),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this[_0x4b8d86(0x12e)]['size'];const _0x7aac31=_0x4c0528['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x7aac31)return;this['drawContext'](_0x2e29f0,new mapv__namespace['DataSet'](_0x4b6da8),this['options'],_0x7aac31),this[_0x4b8d86(0x12e)][_0x4b8d86(0xfe)]&&this['options']['updateCallback'](_0x2069e3);}}['updateData'](_0x1b374c,_0x33c38f){const _0x4f2cdf={_0x13eb69:0x102},_0x39f28a=_0x5e96f6;let _0x42e367=_0x1b374c;_0x42e367&&_0x42e367['get']&&(_0x42e367=_0x42e367[_0x39f28a(_0x4f2cdf._0x13eb69)]()),void 0x0!==_0x42e367&&this['dataSet'][_0x39f28a(0x14b)](_0x42e367),super['update']({'options':_0x33c38f});}[_0x5e96f6(0x111)](_0x2047b1,_0x30541b){const _0x2aed3a={_0x50ee94:0x133},_0x5ec973=_0x5e96f6;let _0x4fce5e=_0x2047b1;_0x2047b1&&_0x2047b1['get']&&(_0x4fce5e=_0x2047b1['get']()),this['dataSet'][_0x5ec973(_0x2aed3a._0x50ee94)](_0x4fce5e),this['update']({'options':_0x30541b});}['getData'](){return this['dataSet'];}['removeData'](_0x451696){if(this['dataSet']){const _0x2bbed3=this['dataSet']['get']({'filter':function(_0x263de6){return _0x451696==null||typeof _0x451696!=='function'||!_0x451696(_0x263de6);}});this['dataSet']['set'](_0x2bbed3),this['update']({'options':null});}}['clearData'](){const _0x5de7a8={_0x2738b8:0xfb},_0x57fc57=_0x5e96f6;this['dataSet']&&this['dataSet']['clear'](),this[_0x57fc57(_0x5de7a8._0x2738b8)]({'options':null});}['draw'](){this['canvasLayer']['draw']();}['clear'](_0x55d899){const _0x19b16d={_0x1e7a6b:0x105},_0x43d58d=_0x5e96f6;_0x55d899&&_0x55d899['clearRect']&&_0x55d899['clearRect'](0x0,0x0,_0x55d899['canvas'][_0x43d58d(0xf2)],_0x55d899['canvas'][_0x43d58d(_0x19b16d._0x1e7a6b)]);}[_0x5e96f6(0x115)](){const _0x2db6d3={_0x3d3c4f:0x11f,_0x502fae:0xf0},_0x148e9e=_0x5e96f6;this['clear'](this['getContext']()),this[_0x148e9e(_0x2db6d3._0x3d3c4f)](),this[_0x148e9e(_0x2db6d3._0x502fae)]&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet'][_0x5e96f6(0x119)][_0x5e96f6(0x13d)]=function(_0x1a06dc,_0x32fc1e,_0x21e800,_0x20917f){const _0x25c287={_0x36b535:0x154,_0x14029a:0x134},_0x1ff08f=_0x5e96f6;_0x20917f=_0x20917f||'_coordinates',_0x21e800=_0x21e800||'coordinates';for(let _0xc94217=0x0;_0xc94217<_0x1a06dc[_0x1ff08f(0x134)];_0xc94217++){const _0x2a540c=_0x1a06dc[_0xc94217]['geometry'],_0x4312de=_0x2a540c[_0x21e800];switch(_0x2a540c['type']){case _0x1ff08f(_0x25c287._0x36b535):{const _0x2c18b7=_0x32fc1e(_0x4312de);_0x2c18b7?_0x2a540c[_0x20917f]=_0x2c18b7:_0x2a540c[_0x20917f]=[-0x3e7,-0x3e7];}break;case _0x1ff08f(0x114):{const _0x25b2ae=[];for(let _0x5130d7=0x0;_0x5130d7<_0x4312de[_0x1ff08f(_0x25c287._0x14029a)];_0x5130d7++){const _0x5fa160=_0x32fc1e(_0x4312de[_0x5130d7]);_0x5fa160&&_0x25b2ae['push'](_0x5fa160);}_0x2a540c[_0x20917f]=_0x25b2ae;}break;case'MultiLineString':case'Polygon':{const _0x2a6f18=_0x24a3a2(_0x4312de);_0x2a540c[_0x20917f]=_0x2a6f18;}break;case _0x1ff08f(0x10f):{const _0x198d0c=[];for(let _0x3df6f3=0x0;_0x3df6f3<_0x4312de[_0x1ff08f(0x134)];_0x3df6f3++){const _0x5daf22=_0x24a3a2(_0x4312de[_0x3df6f3]);_0x5daf22['length']>0x0&&_0x198d0c['push'](_0x5daf22);}_0x2a540c[_0x20917f]=_0x198d0c;}break;}}function _0x24a3a2(_0x303ebd){const _0x48c31a=_0x1ff08f,_0x2ae384=[];for(let _0x33ca71=0x0;_0x33ca71<_0x303ebd[_0x48c31a(0x134)];_0x33ca71++){const _0x32ab5=_0x303ebd[_0x33ca71],_0x2e0220=[];for(let _0x4efa3f=0x0;_0x4efa3f<_0x32ab5['length'];_0x4efa3f++){const _0x5d0df7=_0x32fc1e(_0x32ab5[_0x4efa3f]);_0x5d0df7&&_0x2e0220['push'](_0x5d0df7);}_0x2e0220['length']>0x0&&_0x2ae384[_0x48c31a(0x123)](_0x2e0220);}return _0x2ae384;}return _0x1a06dc;};else throw new Error('请引入\x20mapv\x20库\x20');const Cesium=mars3d__namespace[_0x5e96f6(0xf4)],BaseLayer=mars3d__namespace[_0x5e96f6(0xf3)]['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x5267ed,_0x24fa69){super(_0x5267ed),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x24fa69||new mapv__namespace['DataSet'](_0x5267ed['data']),this['canvas']=null;}get[_0x5e96f6(0x10c)](){return this['_pointerEvents'];}set['pointerEvents'](_0x22a8d9){const _0x266a88={_0x2aba8b:0x158,_0x1abc25:0x10c},_0x287a11=_0x5e96f6;this[_0x287a11(0x139)]=_0x22a8d9,this['canvas']&&(_0x22a8d9?this['canvas'][_0x287a11(_0x266a88._0x2aba8b)][_0x287a11(_0x266a88._0x1abc25)]='all':this['canvas']['style']['pointerEvents']='none');}[_0x5e96f6(0x157)](_0x5d70a4){const _0x3b2401={_0x34a69c:0x158,_0x4ae7ac:0xfa},_0x65b31a=_0x5e96f6;_0x5d70a4?this[_0x65b31a(0xee)][_0x65b31a(_0x3b2401._0x34a69c)][_0x65b31a(_0x3b2401._0x4ae7ac)]='block':this[_0x65b31a(0xee)]['style']['display']='none';}['_mountedHook'](){const _0x525329={_0x11fc18:0x140,_0x55b5c6:0x152,_0x473a14:0x110,_0x41ec1b:0xf8},_0x3d7247=_0x5e96f6;this['_map'][_0x3d7247(0x140)]['mapvDepthTest']=this['options']['depthTest']??!![],this['_map'][_0x3d7247(_0x525329._0x11fc18)]['mapvAutoHeight']=this[_0x3d7247(0x12e)][_0x3d7247(_0x525329._0x55b5c6)]??![],this[_0x3d7247(_0x525329._0x473a14)]['scene']['mapvFixedHeight']=this['options'][_0x3d7247(_0x525329._0x41ec1b)]??0x0;}['_addedHook'](){const _0x3e4dbf={_0x21586e:0x150,_0x4305f7:0x10b,_0x394c42:0x11b,_0x3c47fa:0xfc,_0x388c5e:0x11d,_0x2f2162:0x155},_0x473a5c=_0x5e96f6;this['dataSet']&&(!this[_0x473a5c(0x121)][_0x473a5c(0x131)]||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x473a5c(0x131)]=[][_0x473a5c(_0x3e4dbf._0x21586e)](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this['_map'],this['dataSet'],this['options'],this),this[_0x473a5c(_0x3e4dbf._0x4305f7)](),this['canvas']=this['_createCanvas'](),this[_0x473a5c(0x11b)]=this[_0x473a5c(_0x3e4dbf._0x394c42)][_0x473a5c(_0x3e4dbf._0x3c47fa)](this),this[_0x473a5c(_0x3e4dbf._0x388c5e)](),this[_0x473a5c(_0x3e4dbf._0x2f2162)]();}[_0x5e96f6(0x10d)](){const _0x149b1d={_0x56b8d8:0xf9,_0x433537:0x13f},_0x39aaf1=_0x5e96f6;this[_0x39aaf1(_0x149b1d._0x56b8d8)](),this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this[_0x39aaf1(_0x149b1d._0x433537)]=null),this['canvas']['parentElement']['removeChild'](this['canvas']);}[_0x5e96f6(0x10b)](){const _0x11b194={_0x50cb77:0x100},_0xa1001f=_0x5e96f6;this[_0xa1001f(_0x11b194._0x50cb77)]=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x3f9825={_0xce65d1:0x110,_0xe61706:0x10e,_0x383571:0x108},_0xd9fc17=_0x5e96f6;var _0x46d614,_0x4c6a49,_0x4d5262,_0xe53830;this['_map']['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this[_0xd9fc17(_0x3f9825._0xce65d1)]['on'](mars3d__namespace['EventType'][_0xd9fc17(0xfd)],this['_onMoveStartEvent'],this),this[_0xd9fc17(_0x3f9825._0xce65d1)]['on'](mars3d__namespace['EventType'][_0xd9fc17(0x141)],this['_onMoveEndEvent'],this),(_0x46d614=this['options'])!==null&&_0x46d614!==void 0x0&&(_0x4c6a49=_0x46d614['methods'])!==null&&_0x4c6a49!==void 0x0&&_0x4c6a49[_0xd9fc17(0x113)]&&this['_map']['on'](mars3d__namespace[_0xd9fc17(_0x3f9825._0xe61706)]['click'],this['_onMapClick'],this),(_0x4d5262=this['options'])!==null&&_0x4d5262!==void 0x0&&(_0xe53830=_0x4d5262[_0xd9fc17(_0x3f9825._0x383571)])!==null&&_0xe53830!==void 0x0&&_0xe53830['mousemove']&&this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this['_onMapMouseMove'],this);}['unbindEvent'](){const _0x236ba8={_0x3c70b8:0x10e,_0x1a4320:0x10e,_0x6e3582:0xff,_0xab898d:0x10e,_0x5dae43:0x122,_0x48aad0:0xea},_0x1e2c1f=_0x5e96f6;var _0x4d07e1,_0xad8c41,_0x4f8f3d,_0x139e4e;this['_map']['off'](mars3d__namespace[_0x1e2c1f(_0x236ba8._0x3c70b8)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map'][_0x1e2c1f(0xea)](mars3d__namespace[_0x1e2c1f(_0x236ba8._0x1a4320)]['cameraMoveStart'],this[_0x1e2c1f(_0x236ba8._0x6e3582)],this),this['_map']['off'](mars3d__namespace[_0x1e2c1f(_0x236ba8._0xab898d)]['cameraMoveEnd'],this['_onMoveEndEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x1e2c1f(_0x236ba8._0x5dae43)],this['_reset'],this),(_0x4d07e1=this['options'])!==null&&_0x4d07e1!==void 0x0&&(_0xad8c41=_0x4d07e1[_0x1e2c1f(0x108)])!==null&&_0xad8c41!==void 0x0&&_0xad8c41['click']&&this[_0x1e2c1f(0x110)][_0x1e2c1f(_0x236ba8._0x48aad0)](mars3d__namespace[_0x1e2c1f(_0x236ba8._0x3c70b8)]['click'],this['_onMapClick'],this),(_0x4f8f3d=this[_0x1e2c1f(0x12e)])!==null&&_0x4f8f3d!==void 0x0&&(_0x139e4e=_0x4f8f3d['methods'])!==null&&_0x139e4e!==void 0x0&&_0x139e4e['mousemove']&&this['_map']['off'](mars3d__namespace[_0x1e2c1f(0x10e)]['mouseMove'],this[_0x1e2c1f(0x14f)],this);}['_onMoveStartEvent'](){const _0x3aa622={_0x5db045:0x13f,_0x56e547:0x10e},_0x36a9f6=_0x5e96f6;this[_0x36a9f6(_0x3aa622._0x5db045)]&&(this[_0x36a9f6(_0x3aa622._0x5db045)]['animatorMovestartEvent'](),this['_map'][_0x36a9f6(0xea)](mars3d__namespace[_0x36a9f6(_0x3aa622._0x56e547)]['postRender'],this['_reset'],this),this['_map']['on'](mars3d__namespace['EventType']['postRender'],this[_0x36a9f6(0x155)],this));}[_0x5e96f6(0x14c)](){const _0x2191f4={_0x1a7fc7:0x155,_0x1b1e55:0x109},_0x44bd68=_0x5e96f6;this['_mapVRenderer']&&(this[_0x44bd68(0x110)][_0x44bd68(0xea)](mars3d__namespace['EventType']['postRender'],this[_0x44bd68(_0x2191f4._0x1a7fc7)],this),this['_mapVRenderer'][_0x44bd68(_0x2191f4._0x1b1e55)](),this['_reset']());}[_0x5e96f6(0x143)](_0x214f0b,_0x21d21d){const _0x4016cc=_0x5e96f6;this['_removedHook'](),this[_0x4016cc(0x144)]();}['addData'](_0x3298e4){this['_mapVRenderer']&&this['_mapVRenderer']['addData'](_0x3298e4,this['options']);}['updateData'](_0x1f4d9e){const _0x58c0aa={_0x42c46d:0x12e},_0x1616e6=_0x5e96f6;this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x1f4d9e,this[_0x1616e6(_0x58c0aa._0x42c46d)]);}['getData'](){const _0x5cd582={_0x344150:0x121},_0x3fd468=_0x5e96f6;return this['_mapVRenderer']&&(this[_0x3fd468(_0x5cd582._0x344150)]=this['_mapVRenderer']['getData']()),this['dataSet'];}['removeData'](_0x46335f){this['_mapVRenderer']&&this['_mapVRenderer']['removeData'](_0x46335f);}[_0x5e96f6(0x124)](){this['_mapVRenderer']&&this['_mapVRenderer']['clearData']();}[_0x5e96f6(0xef)](){const _0x36cbae={_0xc8a6c9:0x15a,_0x2c53ba:0x158,_0x25f6c6:0xf5,_0x828a1:0x110,_0x38ea55:0xee,_0x216acb:0x13a,_0x31d614:0x148,_0x4f8e4b:0x15c},_0xcb47cb=_0x5e96f6,_0x21a286=mars3d__namespace['DomUtil']['create']('canvas','mars3d-mapv',this['_map'][_0xcb47cb(_0x36cbae._0xc8a6c9)]);_0x21a286['id']=this['id'],_0x21a286['style']['position']='absolute',_0x21a286[_0xcb47cb(_0x36cbae._0x2c53ba)][_0xcb47cb(_0x36cbae._0x25f6c6)]='0px',_0x21a286[_0xcb47cb(0x158)]['left']='0px',_0x21a286['width']=parseInt(this[_0xcb47cb(_0x36cbae._0x828a1)]['canvas']['width']),_0x21a286['height']=parseInt(this['_map'][_0xcb47cb(_0x36cbae._0x38ea55)]['height']),_0x21a286['style']['width']=this['_map']['canvas']['style'][_0xcb47cb(0xf2)],_0x21a286['style']['height']=this['_map']['canvas']['style']['height'],_0x21a286[_0xcb47cb(_0x36cbae._0x2c53ba)]['pointerEvents']=this[_0xcb47cb(0x139)]?_0xcb47cb(_0x36cbae._0x216acb):'none',_0x21a286['style']['zIndex']=this['options'][_0xcb47cb(_0x36cbae._0x31d614)]??0x9;if(this['options'][_0xcb47cb(_0x36cbae._0x4f8e4b)]==='2d'){const _0xd47a7a=this['devicePixelRatio'];_0x21a286['getContext'](this['options']['context'])['scale'](_0xd47a7a,_0xd47a7a);}return _0x21a286;}['_reset'](){const _0x2be74e=_0x5e96f6;this[_0x2be74e(0x11a)](),this[_0x2be74e(0x11b)]();}[_0x5e96f6(0x156)](){this['_reset']();}[_0x5e96f6(0x11e)](){const _0x393a36={_0x4e2cd4:0x115,_0xf9b2cd:0x138},_0x1b5531=_0x5e96f6;this['_mapVRenderer']&&(this[_0x1b5531(0x13f)][_0x1b5531(_0x393a36._0x4e2cd4)](),this['_mapVRenderer']=null),this['canvas']['parentElement'][_0x1b5531(_0x393a36._0xf9b2cd)](this['canvas']);}[_0x5e96f6(0x11b)](){const _0x46b0e7=_0x5e96f6;this[_0x46b0e7(0x13f)][_0x46b0e7(0x13c)]();}[_0x5e96f6(0x11a)](){const _0x36037c={_0x36d285:0xee,_0x2153a3:0x132,_0x23f2bf:0x147,_0x57f1fa:0x145,_0x4bca2b:0x110},_0xdb8c1d=_0x5e96f6;if(this['canvas']){const _0x467b59=this[_0xdb8c1d(_0x36037c._0x36d285)];_0x467b59['style'][_0xdb8c1d(_0x36037c._0x2153a3)]=_0xdb8c1d(_0x36037c._0x23f2bf),_0x467b59['style']['top']='0px',_0x467b59['style'][_0xdb8c1d(_0x36037c._0x57f1fa)]='0px',_0x467b59['width']=parseInt(this['_map'][_0xdb8c1d(0xee)]['width']),_0x467b59['height']=parseInt(this[_0xdb8c1d(_0x36037c._0x4bca2b)][_0xdb8c1d(0xee)]['height']),_0x467b59['style']['width']=this['_map']['canvas']['style']['width'],_0x467b59['style'][_0xdb8c1d(0x105)]=this[_0xdb8c1d(_0x36037c._0x4bca2b)][_0xdb8c1d(_0x36037c._0x36d285)]['style']['height'];}}['getRectangle'](_0x55a350){const _0x30b23d={_0x37fa0b:0x131,_0x723e33:0x101,_0x5144a6:0xeb,_0x27224c:0xed},_0x4122a0=_0x5e96f6;if(!this['dataSet']||!this['dataSet'][_0x4122a0(_0x30b23d._0x37fa0b)])return;const _0x5fa678=mars3d__namespace[_0x4122a0(0x116)]['getExtentByGeoJSON']({'type':_0x4122a0(_0x30b23d._0x723e33),'features':this[_0x4122a0(0x121)]['_data']});if(!_0x5fa678)return;return _0x55a350!==null&&_0x55a350!==void 0x0&&_0x55a350['isFormat']?_0x5fa678:Cesium[_0x4122a0(0x14e)][_0x4122a0(_0x30b23d._0x5144a6)](_0x5fa678[_0x4122a0(0x14d)],_0x5fa678[_0x4122a0(_0x30b23d._0x27224c)],_0x5fa678['xmax'],_0x5fa678['ymax']);}['_onMapClick'](_0x45ae1a){const _0x46bd3d={_0x1ba60f:0x126},_0x3322f9=_0x5e96f6;this[_0x3322f9(_0x46bd3d._0x1ba60f)]=_0x45ae1a,this['_mapVRenderer']&&this['_mapVRenderer']['clickEvent'](_0x45ae1a['windowPosition'],_0x45ae1a);}['_onMapMouseMove'](_0x42e15a){const _0x4ff7b0=_0x5e96f6;this['_cache_event']=_0x42e15a,this['_mapVRenderer']&&this[_0x4ff7b0(0x13f)]['mousemoveEvent'](_0x42e15a['windowPosition'],_0x42e15a);}['on'](_0x547785,_0x4cb7dd,_0x300351){const _0x12d359={_0x35009c:0x108,_0x3d8b45:0x113,_0x144c05:0x108,_0x502f05:0x14f},_0x1e770f=_0x5e96f6;this['options'][_0x1e770f(_0x12d359._0x35009c)]=this['options'][_0x1e770f(0x108)]||{};if(_0x547785===mars3d__namespace['EventType'][_0x1e770f(_0x12d359._0x3d8b45)])this['options']['methods']['click']=_0x4c67b7=>{_0x4c67b7&&_0x4cb7dd['bind'](_0x300351)({...this['_cache_event'],'layer':this,'data':_0x4c67b7});},this['_map']['on'](mars3d__namespace['EventType'][_0x1e770f(_0x12d359._0x3d8b45)],this['_onMapClick'],this);else _0x547785===mars3d__namespace['EventType']['mouseMove']&&(this[_0x1e770f(0x12e)][_0x1e770f(_0x12d359._0x144c05)]['mousemove']=_0x562e05=>{const _0x4b19da=_0x1e770f;_0x562e05&&_0x4cb7dd[_0x4b19da(0xfc)](_0x300351)({...this['_cache_event'],'layer':this,'data':_0x562e05});},this['_map']['on'](mars3d__namespace['EventType']['mouseMove'],this[_0x1e770f(_0x12d359._0x502f05)],this));return this;}['off'](_0x343b80,_0x2c6cee){const _0x3a0859={_0x56fa4b:0x110},_0x5e4b55=_0x5e96f6;if(_0x343b80==='click'){var _0x10e092;this['_map']['off'](_0x343b80,this[_0x5e4b55(0x104)],this),(_0x10e092=this['options']['methods'])!==null&&_0x10e092!==void 0x0&&_0x10e092['mousemove']&&delete this['options']['methods']['click'];}else{if(_0x343b80==='mouseMove'){var _0x40574b;this[_0x5e4b55(_0x3a0859._0x56fa4b)]['off'](_0x343b80,this['_onMapMouseMove'],this),(_0x40574b=this['options']['methods'])!==null&&_0x40574b!==void 0x0&&_0x40574b[_0x5e4b55(0x10a)]&&delete this[_0x5e4b55(0x12e)]['methods']['mousemove'];}}return this;}}mars3d__namespace[_0x5e96f6(0xf6)]['register']('mapv',MapVLayer),mars3d__namespace['layer']['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports['MapVLayer']=MapVLayer,Object[_0x5e96f6(0x13b)](mapv)['forEach'](function(_0x291a79){const _0x13fede={_0x1169fe:0x107,_0x4e2d40:0xf1,_0x1cfb00:0x12b},_0x1c8e7c=_0x5e96f6;if(_0x291a79!==_0x1c8e7c(_0x13fede._0x1169fe)&&!exports[_0x1c8e7c(_0x13fede._0x4e2d40)](_0x291a79))Object[_0x1c8e7c(_0x13fede._0x1cfb00)](exports,_0x291a79,{'enumerable':!![],'get':function(){return mapv[_0x291a79];}});}),Object['defineProperty'](exports,_0x5e96f6(0xec),{'value':!![]});
}));
