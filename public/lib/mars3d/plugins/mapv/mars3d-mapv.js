/**
 * Mars3D平台插件,结合mapv可视化功能插件  mars3d-mapv
 *
 * 版本信息：v3.6.7
 * 编译日期：2023-09-25 10:02:19
 * 版权所有：Copyright by 火星科技  http://mars3d.cn
 * 使用单位：免费公开版 ，2023-03-17
 */
(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, (window.mapv || require('mapv')), (window.mars3d || require('mars3d'))) :
  typeof define === 'function' && define.amd ? define(['exports', 'mapv', 'mars3d'], factory) :
  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, factory(global["mars3d-mapv"] = {}, global.mapv, global.mars3d));
})(this, (function (exports, mapv, mars3d) { 
'use strict';const _0x380790=_0x470e;(function(_0xc13d18,_0x3ef14b){const _0x107967={_0xd16f4f:0x221,_0x32ca3a:0x227,_0x145ef0:0x219,_0x59b215:0x245},_0x265063=_0x470e,_0xab00a8=_0xc13d18();while(!![]){try{const _0x415626=parseInt(_0x265063(0x234))/0x1+-parseInt(_0x265063(0x1f0))/0x2+parseInt(_0x265063(0x243))/0x3*(parseInt(_0x265063(_0x107967._0xd16f4f))/0x4)+parseInt(_0x265063(0x205))/0x5+parseInt(_0x265063(0x1f3))/0x6*(-parseInt(_0x265063(0x22f))/0x7)+-parseInt(_0x265063(_0x107967._0x32ca3a))/0x8*(parseInt(_0x265063(0x21b))/0x9)+parseInt(_0x265063(_0x107967._0x145ef0))/0xa*(-parseInt(_0x265063(_0x107967._0x59b215))/0xb);if(_0x415626===_0x3ef14b)break;else _0xab00a8['push'](_0xab00a8['shift']());}catch(_0x4baf02){_0xab00a8['push'](_0xab00a8['shift']());}}}(_0x1e4e,0xeca5b));function _interopNamespace(_0x5e9cd3){const _0x75eb79={_0x1ca625:0x1fa},_0x5c1e96={_0x55d495:0x213},_0x1b4de7=_0x470e;if(_0x5e9cd3&&_0x5e9cd3[_0x1b4de7(0x23f)])return _0x5e9cd3;var _0x405366=Object['create'](null);return _0x5e9cd3&&Object[_0x1b4de7(_0x75eb79._0x1ca625)](_0x5e9cd3)['forEach'](function(_0x5a1668){const _0xb1f823=_0x1b4de7;if(_0x5a1668!=='default'){var _0x381de0=Object[_0xb1f823(_0x5c1e96._0x55d495)](_0x5e9cd3,_0x5a1668);Object['defineProperty'](_0x405366,_0x5a1668,_0x381de0['get']?_0x381de0:{'enumerable':!![],'get':function(){return _0x5e9cd3[_0x5a1668];}});}}),_0x405366['default']=_0x5e9cd3,_0x405366;}var mapv__namespace=_interopNamespace(mapv),mars3d__namespace=_interopNamespace(mars3d);const Cesium$1=mars3d__namespace[_0x380790(0x230)],baiduMapLayer=mapv__namespace?mapv__namespace['baiduMapLayer']:null,BaseLayer$1=baiduMapLayer?baiduMapLayer['__proto__']:Function;class MapVRenderer extends BaseLayer$1{constructor(_0x3c3139,_0x3da2fd,_0x59a62b,_0x17c26a){const _0xca740d={_0x152455:0x1ef},_0x483758=_0x380790;super(_0x3c3139,_0x3da2fd,_0x59a62b);if(!BaseLayer$1)return;this['map']=_0x3c3139,this['scene']=_0x3c3139['scene'],this[_0x483758(_0xca740d._0x152455)]=_0x3da2fd,_0x59a62b=_0x59a62b||{},this['init'](_0x59a62b),this[_0x483758(0x207)](_0x59a62b),this[_0x483758(0x1fe)](),this['canvasLayer']=_0x17c26a,this['stopAniamation']=!0x1,this['animation']=_0x59a62b['animation'];}['initDevicePixelRatio'](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['addAnimatorEvent'](){}[_0x380790(0x1f7)](){const _0x12ba3a={_0x3405f5:0x212},_0x1862a0=_0x380790,_0x3b4e17=this['options'][_0x1862a0(_0x12ba3a._0x3405f5)];this['isEnabledTime']()&&this[_0x1862a0(0x231)]&&(this['steps']['step']=_0x3b4e17[_0x1862a0(0x225)]['start']);}['animatorMoveendEvent'](){this['isEnabledTime']()&&this['animator'];}['getContext'](){const _0x270229={_0x2af596:0x244},_0x48494d=_0x380790;return this['canvasLayer'][_0x48494d(_0x270229._0x2af596)]['getContext'](this['context']);}['init'](_0x1592da){const _0x10e14c={_0x19ca20:0x20a},_0x1127c8=_0x380790;this['options']=_0x1592da,this[_0x1127c8(0x1dc)](_0x1592da),this['context']=this[_0x1127c8(0x21c)][_0x1127c8(_0x10e14c._0x19ca20)]||'2d',this[_0x1127c8(0x21c)]['zIndex']&&this['canvasLayer']&&this['canvasLayer']['setZIndex']&&this[_0x1127c8(0x1f2)][_0x1127c8(0x229)](this[_0x1127c8(0x21c)]['zIndex']),this['initAnimator']();}[_0x380790(0x206)](_0x2bd061){const _0x2e56a6={_0x3cffd1:0x1df,_0x82288c:0x1db,_0x392c05:0x23a,_0x124480:0x203,_0x17dd88:0x1fb},_0x3338c0={_0x1a253d:0x1e5,_0x48913:0x23b,_0x17fe80:0x224,_0x116297:0x204,_0x39386d:0x1f9,_0x4a9084:0x22a},_0x436d22=_0x380790,_0x86cd24=this['scene'];if(this['canvasLayer']&&!this[_0x436d22(0x1f4)]){const _0x199bf4=this[_0x436d22(0x21c)]['animation'],_0x2a632b=this['getContext']();if(this['isEnabledTime']()){if(void 0x0===_0x2bd061)return void this['clear'](_0x2a632b);this['context']==='2d'&&(_0x2a632b[_0x436d22(_0x2e56a6._0x3cffd1)](),_0x2a632b['globalCompositeOperation']=_0x436d22(_0x2e56a6._0x82288c),_0x2a632b[_0x436d22(_0x2e56a6._0x392c05)]='rgba(0,\x200,\x200,\x20.1)',_0x2a632b['fillRect'](0x0,0x0,_0x2a632b['canvas']['width'],_0x2a632b['canvas']['height']),_0x2a632b[_0x436d22(_0x2e56a6._0x124480)]());}else this[_0x436d22(0x211)](_0x2a632b);if(this['context']==='2d')for(const _0x521d26 in this[_0x436d22(0x21c)]){_0x2a632b[_0x521d26]=this[_0x436d22(0x21c)][_0x521d26];}else _0x2a632b['clear'](_0x2a632b['COLOR_BUFFER_BIT']);const _0x34e537={'transferCoordinate':function(_0x32da67){const _0x50c43e=_0x436d22,_0x10eef6=null;let _0x1f3ce4=_0x86cd24[_0x50c43e(_0x3338c0._0x1a253d)];_0x86cd24['mapvAutoHeight']&&(_0x1f3ce4=_0x86cd24['globe'][_0x50c43e(_0x3338c0._0x48913)](Cesium$1['Cartographic'][_0x50c43e(0x215)](_0x32da67[0x0],_0x32da67[0x1])));const _0x4ca291=Cesium$1[_0x50c43e(_0x3338c0._0x17fe80)]['fromDegrees'](_0x32da67[0x0],_0x32da67[0x1],_0x1f3ce4);if(!_0x4ca291)return _0x10eef6;const _0x9a88ae=_0x86cd24['cartesianToCanvasCoordinates'](_0x4ca291);if(!_0x9a88ae)return _0x10eef6;if(_0x86cd24['mapvDepthTest']&&_0x86cd24[_0x50c43e(_0x3338c0._0x116297)]===Cesium$1[_0x50c43e(_0x3338c0._0x39386d)][_0x50c43e(0x1e1)]){const _0x116376=new Cesium$1[(_0x50c43e(_0x3338c0._0x4a9084))](_0x86cd24[_0x50c43e(0x1e8)]['ellipsoid'],_0x86cd24[_0x50c43e(0x236)]['positionWC']),_0x1a6b39=_0x116376['isPointVisible'](_0x4ca291);if(!_0x1a6b39)return _0x10eef6;}return[_0x9a88ae['x'],_0x9a88ae['y']];}};void 0x0!==_0x2bd061&&(_0x34e537[_0x436d22(_0x2e56a6._0x17dd88)]=function(_0x2b6343){const _0x2ac353=_0x199bf4['trails']||0xa;return!!(_0x2bd061&&_0x2b6343['time']>_0x2bd061-_0x2ac353&&_0x2b6343['time']<_0x2bd061);});const _0x39d327=this['dataSet'][_0x436d22(0x21f)](_0x34e537);this['processData'](_0x39d327),this['options']['unit']==='m'&&this['options']['size'],this['options']['_size']=this['options']['size'];const _0x2997b6=_0x86cd24['cartesianToCanvasCoordinates'](Cesium$1['Cartesian3']['fromDegrees'](0x0,0x0));if(!_0x2997b6)return;this['drawContext'](_0x2a632b,new mapv__namespace['DataSet'](_0x39d327),this['options'],_0x2997b6),this['options']['updateCallback']&&this['options']['updateCallback'](_0x2bd061);}}['updateData'](_0x42041d,_0x4ceb94){const _0x3496a={_0x1a6bec:0x1ef},_0x7fc810=_0x380790;let _0x56207c=_0x42041d;_0x56207c&&_0x56207c['get']&&(_0x56207c=_0x56207c['get']()),void 0x0!==_0x56207c&&this[_0x7fc810(_0x3496a._0x1a6bec)]['set'](_0x56207c),super['update']({'options':_0x4ceb94});}[_0x380790(0x1eb)](_0x15d963,_0x187bd3){const _0x43d7f0=_0x380790;let _0x231e53=_0x15d963;_0x15d963&&_0x15d963[_0x43d7f0(0x21f)]&&(_0x231e53=_0x15d963['get']()),this['dataSet'][_0x43d7f0(0x22b)](_0x231e53),this[_0x43d7f0(0x20c)]({'options':_0x187bd3});}['getData'](){const _0x5c64b8={_0x1c81c6:0x1ef},_0x9a4c56=_0x380790;return this[_0x9a4c56(_0x5c64b8._0x1c81c6)];}['removeData'](_0x4881a8){const _0x18fd98={_0x3a3c8b:0x1ef,_0x1256c5:0x222},_0x5ae654=_0x380790;if(this[_0x5ae654(0x1ef)]){const _0x19c022=this[_0x5ae654(_0x18fd98._0x3a3c8b)]['get']({'filter':function(_0x351a79){return _0x4881a8==null||typeof _0x4881a8!=='function'||!_0x4881a8(_0x351a79);}});this['dataSet'][_0x5ae654(_0x18fd98._0x1256c5)](_0x19c022),this['update']({'options':null});}}[_0x380790(0x217)](){const _0x527f91={_0xb490c2:0x20c},_0x5d8216=_0x380790;this['dataSet']&&this[_0x5d8216(0x1ef)]['clear'](),this[_0x5d8216(_0x527f91._0xb490c2)]({'options':null});}['draw'](){const _0x2af6f8={_0x2e9121:0x1f2},_0x2f5d30=_0x380790;this[_0x2f5d30(_0x2af6f8._0x2e9121)]['draw']();}[_0x380790(0x211)](_0x2ce2b2){const _0x38b2d6={_0x5753f2:0x20b},_0xaf0b84=_0x380790;_0x2ce2b2&&_0x2ce2b2['clearRect']&&_0x2ce2b2[_0xaf0b84(_0x38b2d6._0x5753f2)](0x0,0x0,_0x2ce2b2['canvas']['width'],_0x2ce2b2['canvas'][_0xaf0b84(0x235)]);}['destroy'](){const _0x1226d6=_0x380790;this['clear'](this['getContext']()),this[_0x1226d6(0x217)](),this[_0x1226d6(0x231)]&&this['animator']['stop'](),this['animator']=null,this['canvasLayer']=null;}}if(mapv__namespace!==null&&mapv__namespace!==void 0x0&&mapv__namespace['DataSet'])mapv__namespace['DataSet']['prototype']['transferCoordinate']=function(_0xdf4b8c,_0x15ae8b,_0x1d138d,_0x1b4f3d){const _0x20875b=_0x380790;_0x1b4f3d=_0x1b4f3d||'_coordinates',_0x1d138d=_0x1d138d||'coordinates';for(let _0x30091b=0x0;_0x30091b<_0xdf4b8c['length'];_0x30091b++){const _0x5f5438=_0xdf4b8c[_0x30091b]['geometry'],_0x5562c7=_0x5f5438[_0x1d138d];switch(_0x5f5438[_0x20875b(0x1e6)]){case'Point':{const _0x2fbcfb=_0x15ae8b(_0x5562c7);_0x2fbcfb?_0x5f5438[_0x1b4f3d]=_0x2fbcfb:_0x5f5438[_0x1b4f3d]=[-0x3e7,-0x3e7];}break;case'LineString':{const _0x141bfc=[];for(let _0x5d2956=0x0;_0x5d2956<_0x5562c7['length'];_0x5d2956++){const _0xbe4027=_0x15ae8b(_0x5562c7[_0x5d2956]);_0xbe4027&&_0x141bfc['push'](_0xbe4027);}_0x5f5438[_0x1b4f3d]=_0x141bfc;}break;case'MultiLineString':case'Polygon':{const _0x104be5=_0x5927aa(_0x5562c7);_0x5f5438[_0x1b4f3d]=_0x104be5;}break;case'MultiPolygon':{const _0xa02faa=[];for(let _0x265ba5=0x0;_0x265ba5<_0x5562c7['length'];_0x265ba5++){const _0x1f6c95=_0x5927aa(_0x5562c7[_0x265ba5]);_0x1f6c95['length']>0x0&&_0xa02faa['push'](_0x1f6c95);}_0x5f5438[_0x1b4f3d]=_0xa02faa;}break;}}function _0x5927aa(_0x3e4ae7){const _0x5c4c19=_0x20875b,_0x146f63=[];for(let _0x4b41ad=0x0;_0x4b41ad<_0x3e4ae7[_0x5c4c19(0x241)];_0x4b41ad++){const _0x2e04b9=_0x3e4ae7[_0x4b41ad],_0x1efe81=[];for(let _0x53a5a1=0x0;_0x53a5a1<_0x2e04b9['length'];_0x53a5a1++){const _0x4c8035=_0x15ae8b(_0x2e04b9[_0x53a5a1]);_0x4c8035&&_0x1efe81['push'](_0x4c8035);}_0x1efe81['length']>0x0&&_0x146f63[_0x5c4c19(0x242)](_0x1efe81);}return _0x146f63;}return _0xdf4b8c;};else throw new Error(_0x380790(0x202));function _0x1e4e(){const _0x2f87f4=['animatorMovestartEvent','xmax','SceneMode','keys','filter','destroy','updateData','initDevicePixelRatio','_cache_event','_onMapClick','bindEvent','请引入\x20mapv\x20库\x20','restore','mode','6853590ycnQCX','_canvasUpdate','argCheck','DomUtil','getContext','context','clearRect','update','click','style','off','parentElement','clear','animation','getOwnPropertyDescriptor','unbindEvent','fromDegrees','_data','clearData','defineProperty','2791030WeCGTO','devicePixelRatio','14301jfZWjq','options','Util','width','get','MapVLayer','6012eOHYeE','set','mouseMove','Cartesian3','stepsRange','mousemoveEvent','4600YUcHnQ','mousemove','setZIndex','EllipsoidalOccluder','add','render','clickEvent','_onMapMouseMove','1631YnEQdA','Cesium','animator','methods','DataSet','1180136MeRalu','height','camera','zIndex','_map','_onMoveEndEvent','fillStyle','getHeight','pointerEvents','remove','absolute','__esModule','cameraMoveEnd','length','push','3669vRKcxl','canvas','22NTSFtd','_onMoveStartEvent','destination-out','initDataRange','clampToGround','layer','save','EventType','SCENE3D','_reset','resize','_mapVRenderer','mapvFixedHeight','type','_removedHook','globe','bind','top','addData','removeData','getData','_pointerEvents','dataSet','2903090oDlFka','cameraMoveStart','canvasLayer','12780EdllNK','stopAniamation','postRender','getRectangle'];_0x1e4e=function(){return _0x2f87f4;};return _0x1e4e();}function _0x470e(_0x202a4e,_0x5c5e8b){const _0x1e4ec6=_0x1e4e();return _0x470e=function(_0x470e74,_0x37f8ca){_0x470e74=_0x470e74-0x1da;let _0x194c8a=_0x1e4ec6[_0x470e74];return _0x194c8a;},_0x470e(_0x202a4e,_0x5c5e8b);}const Cesium=mars3d__namespace[_0x380790(0x230)],BaseLayer=mars3d__namespace['layer']['BaseLayer'];class MapVLayer extends BaseLayer{constructor(_0x2920ab,_0x350cf9){const _0x1bce0a={_0x2a68c5:0x233},_0x5e57b7=_0x380790;super(_0x2920ab),this['_pointerEvents']=this['options']['pointerEvents'],this['dataSet']=_0x350cf9||new mapv__namespace[(_0x5e57b7(_0x1bce0a._0x2a68c5))](_0x2920ab['data']),this['canvas']=null;}get[_0x380790(0x23c)](){const _0x114619=_0x380790;return this[_0x114619(0x1ee)];}set['pointerEvents'](_0x5b92f9){const _0xc747e8={_0x2b33c9:0x244},_0x4630f9=_0x380790;this['_pointerEvents']=_0x5b92f9,this['canvas']&&(_0x5b92f9?this['canvas']['style']['pointerEvents']='all':this[_0x4630f9(_0xc747e8._0x2b33c9)][_0x4630f9(0x20e)]['pointerEvents']='none');}['_showHook'](_0x39b19c){_0x39b19c?this['canvas']['style']['display']='block':this['canvas']['style']['display']='none';}['_mountedHook'](){const _0xe13240={_0x387d58:0x1dd},_0x3d0211=_0x380790;this['_map']['scene']['mapvDepthTest']=this['options']['depthTest']??!![],this['_map']['scene']['mapvAutoHeight']=this['options'][_0x3d0211(_0xe13240._0x387d58)]??![],this[_0x3d0211(0x238)]['scene']['mapvFixedHeight']=this['options']['fixedHeight']??0x0;}['_addedHook'](){const _0x565e37={_0x2af517:0x238,_0x25cfb1:0x21c,_0x10fd10:0x22c,_0x17e0a5:0x1e9},_0x3866f6=_0x380790;this['dataSet']&&(!this['dataSet']['_data']||this['dataSet']['_data']['length']===0x0)&&(this['dataSet'][_0x3866f6(0x216)]=[]['concat'](this['dataSet']['_dataCache'])),this['_mapVRenderer']=new MapVRenderer(this[_0x3866f6(_0x565e37._0x2af517)],this[_0x3866f6(0x1ef)],this[_0x3866f6(_0x565e37._0x25cfb1)],this),this['initDevicePixelRatio'](),this['canvas']=this['_createCanvas'](),this[_0x3866f6(_0x565e37._0x10fd10)]=this['render'][_0x3866f6(_0x565e37._0x17e0a5)](this),this[_0x3866f6(0x201)](),this[_0x3866f6(0x1e2)]();}['_removedHook'](){const _0x5a06cb={_0x59bc0d:0x1e4,_0x578169:0x1fc},_0x364ae1=_0x380790;this['unbindEvent'](),this[_0x364ae1(0x1e4)]&&(this[_0x364ae1(_0x5a06cb._0x59bc0d)][_0x364ae1(_0x5a06cb._0x578169)](),this['_mapVRenderer']=null),this['canvas']['parentElement']['removeChild'](this[_0x364ae1(0x244)]);}[_0x380790(0x1fe)](){this['devicePixelRatio']=window['devicePixelRatio']||0x1;}['bindEvent'](){const _0x2a59bb={_0x51caf0:0x238,_0x2f1d7e:0x1e0,_0x3b955a:0x238,_0x476ee0:0x238,_0x29a479:0x223},_0x2e634e=_0x380790;var _0x2fa707,_0x2ac189,_0x213d7b,_0x131c0b;this[_0x2e634e(_0x2a59bb._0x51caf0)]['on'](mars3d__namespace['EventType']['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['on'](mars3d__namespace[_0x2e634e(_0x2a59bb._0x2f1d7e)]['cameraMoveStart'],this['_onMoveStartEvent'],this),this[_0x2e634e(_0x2a59bb._0x51caf0)]['on'](mars3d__namespace['EventType']['cameraMoveEnd'],this['_onMoveEndEvent'],this),(_0x2fa707=this['options'])!==null&&_0x2fa707!==void 0x0&&(_0x2ac189=_0x2fa707['methods'])!==null&&_0x2ac189!==void 0x0&&_0x2ac189['click']&&this[_0x2e634e(_0x2a59bb._0x3b955a)]['on'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x213d7b=this['options'])!==null&&_0x213d7b!==void 0x0&&(_0x131c0b=_0x213d7b['methods'])!==null&&_0x131c0b!==void 0x0&&_0x131c0b['mousemove']&&this[_0x2e634e(_0x2a59bb._0x476ee0)]['on'](mars3d__namespace['EventType'][_0x2e634e(_0x2a59bb._0x29a479)],this['_onMapMouseMove'],this);}[_0x380790(0x214)](){const _0x42a2bc={_0x467380:0x1e0,_0x1497f8:0x1f1,_0x58306f:0x232},_0x52b747=_0x380790;var _0x97411c,_0x3cdcd8,_0x5922f1,_0x42e0cd;this['_map'][_0x52b747(0x20f)](mars3d__namespace[_0x52b747(_0x42a2bc._0x467380)]['mouseDown'],this['_onMoveStartEvent'],this),this['_map']['off'](mars3d__namespace['EventType'][_0x52b747(_0x42a2bc._0x1497f8)],this['_onMoveStartEvent'],this),this['_map'][_0x52b747(0x20f)](mars3d__namespace['EventType'][_0x52b747(0x240)],this[_0x52b747(0x239)],this),this['_map']['off'](mars3d__namespace[_0x52b747(0x1e0)]['postRender'],this['_reset'],this),(_0x97411c=this[_0x52b747(0x21c)])!==null&&_0x97411c!==void 0x0&&(_0x3cdcd8=_0x97411c[_0x52b747(_0x42a2bc._0x58306f)])!==null&&_0x3cdcd8!==void 0x0&&_0x3cdcd8['click']&&this['_map']['off'](mars3d__namespace['EventType']['click'],this['_onMapClick'],this),(_0x5922f1=this['options'])!==null&&_0x5922f1!==void 0x0&&(_0x42e0cd=_0x5922f1['methods'])!==null&&_0x42e0cd!==void 0x0&&_0x42e0cd[_0x52b747(0x228)]&&this['_map'][_0x52b747(0x20f)](mars3d__namespace[_0x52b747(0x1e0)]['mouseMove'],this['_onMapMouseMove'],this);}[_0x380790(0x1da)](){const _0x5d02b0={_0x493150:0x20f,_0x5c801d:0x1f5,_0x569ddb:0x238},_0x489361=_0x380790;this['_mapVRenderer']&&(this['_mapVRenderer']['animatorMovestartEvent'](),this['_map'][_0x489361(_0x5d02b0._0x493150)](mars3d__namespace[_0x489361(0x1e0)][_0x489361(_0x5d02b0._0x5c801d)],this['_reset'],this),this[_0x489361(_0x5d02b0._0x569ddb)]['on'](mars3d__namespace['EventType'][_0x489361(0x1f5)],this['_reset'],this));}[_0x380790(0x239)](){const _0x263bb4={_0x5d7334:0x1e4},_0xbeb102=_0x380790;this[_0xbeb102(_0x263bb4._0x5d7334)]&&(this['_map'][_0xbeb102(0x20f)](mars3d__namespace['EventType']['postRender'],this[_0xbeb102(0x1e2)],this),this['_mapVRenderer']['animatorMoveendEvent'](),this['_reset']());}['_setOptionsHook'](_0xaaf093,_0x52e20a){const _0x1da9b8=_0x380790;this[_0x1da9b8(0x1e7)](),this['_addedHook']();}['addData'](_0x3e0c9b){const _0x30d7ca={_0x21daef:0x1e4,_0x5e330f:0x1eb},_0x310a74=_0x380790;this['_mapVRenderer']&&this[_0x310a74(_0x30d7ca._0x21daef)][_0x310a74(_0x30d7ca._0x5e330f)](_0x3e0c9b,this['options']);}[_0x380790(0x1fd)](_0x146c45){this['_mapVRenderer']&&this['_mapVRenderer']['updateData'](_0x146c45,this['options']);}['getData'](){const _0x374e92=_0x380790;return this['_mapVRenderer']&&(this[_0x374e92(0x1ef)]=this['_mapVRenderer'][_0x374e92(0x1ed)]()),this[_0x374e92(0x1ef)];}[_0x380790(0x1ec)](_0x390d60){const _0x43b5c4={_0x37369a:0x1ec},_0x716bcf=_0x380790;this['_mapVRenderer']&&this['_mapVRenderer'][_0x716bcf(_0x43b5c4._0x37369a)](_0x390d60);}['removeAllData'](){const _0xd9f8f9=_0x380790;this['_mapVRenderer']&&this['_mapVRenderer'][_0xd9f8f9(0x217)]();}['_createCanvas'](){const _0x409e95={_0x531687:0x208,_0x5919c6:0x21e,_0x6c638:0x20e,_0x54805f:0x235,_0xe25636:0x235,_0x3b65f7:0x1ee,_0xc6d9e2:0x20a,_0x4002da:0x209},_0x39ce1c=_0x380790,_0xacae7b=mars3d__namespace[_0x39ce1c(_0x409e95._0x531687)]['create']('canvas','mars3d-mapv',this['_map']['container']);_0xacae7b['id']=this['id'],_0xacae7b[_0x39ce1c(0x20e)]['position']='absolute',_0xacae7b[_0x39ce1c(0x20e)][_0x39ce1c(0x1ea)]='0px',_0xacae7b['style']['left']='0px',_0xacae7b[_0x39ce1c(_0x409e95._0x5919c6)]=parseInt(this['_map']['canvas']['width']),_0xacae7b['height']=parseInt(this['_map']['canvas'][_0x39ce1c(0x235)]),_0xacae7b['style']['width']=this['_map']['canvas'][_0x39ce1c(_0x409e95._0x6c638)][_0x39ce1c(0x21e)],_0xacae7b[_0x39ce1c(0x20e)][_0x39ce1c(_0x409e95._0x54805f)]=this['_map']['canvas']['style'][_0x39ce1c(_0x409e95._0xe25636)],_0xacae7b['style']['pointerEvents']=this[_0x39ce1c(_0x409e95._0x3b65f7)]?'auto':'none',_0xacae7b['style']['zIndex']=this['options'][_0x39ce1c(0x237)]??0x9;if(this['options'][_0x39ce1c(_0x409e95._0xc6d9e2)]==='2d'){const _0x3c9fc8=this[_0x39ce1c(0x21a)];_0xacae7b[_0x39ce1c(_0x409e95._0x4002da)](this['options']['context'])['scale'](_0x3c9fc8,_0x3c9fc8);}return _0xacae7b;}['_reset'](){this['resize'](),this['render']();}['draw'](){const _0x1a7997={_0x5ba9be:0x1e2},_0x5c0d93=_0x380790;this[_0x5c0d93(_0x1a7997._0x5ba9be)]();}[_0x380790(0x23d)](){const _0x4baafe={_0x3e9faf:0x210,_0x4e3521:0x244},_0x4a5626=_0x380790;this['_mapVRenderer']&&(this['_mapVRenderer']['destroy'](),this['_mapVRenderer']=null),this[_0x4a5626(0x244)][_0x4a5626(_0x4baafe._0x3e9faf)]['removeChild'](this[_0x4a5626(_0x4baafe._0x4e3521)]);}[_0x380790(0x22c)](){this['_mapVRenderer']['_canvasUpdate']();}[_0x380790(0x1e3)](){const _0x5e4412={_0x2d6b20:0x23e,_0x610ba9:0x244,_0x5037bc:0x235,_0x4297ae:0x244},_0x552dee=_0x380790;if(this['canvas']){const _0x17509a=this['canvas'];_0x17509a['style']['position']=_0x552dee(_0x5e4412._0x2d6b20),_0x17509a['style']['top']='0px',_0x17509a['style']['left']='0px',_0x17509a['width']=parseInt(this[_0x552dee(0x238)][_0x552dee(_0x5e4412._0x610ba9)][_0x552dee(0x21e)]),_0x17509a['height']=parseInt(this[_0x552dee(0x238)]['canvas'][_0x552dee(_0x5e4412._0x5037bc)]),_0x17509a['style']['width']=this['_map'][_0x552dee(_0x5e4412._0x4297ae)]['style']['width'],_0x17509a['style'][_0x552dee(_0x5e4412._0x5037bc)]=this['_map']['canvas']['style'][_0x552dee(0x235)];}}[_0x380790(0x1f6)](_0x4c3627){const _0x38ba1e={_0x5e6736:0x1ef,_0x5bb5b0:0x216,_0x3212b5:0x21d,_0x3a8f26:0x1f8},_0x51e1d0=_0x380790;if(!this[_0x51e1d0(_0x38ba1e._0x5e6736)]||!this[_0x51e1d0(0x1ef)][_0x51e1d0(_0x38ba1e._0x5bb5b0)])return;const _0x392871=mars3d__namespace[_0x51e1d0(_0x38ba1e._0x3212b5)]['getExtentByGeoJSON']({'type':'FeatureCollection','features':this['dataSet'][_0x51e1d0(_0x38ba1e._0x5bb5b0)]});if(!_0x392871)return;return _0x4c3627!==null&&_0x4c3627!==void 0x0&&_0x4c3627['isFormat']?_0x392871:Cesium['Rectangle']['fromDegrees'](_0x392871['xmin'],_0x392871['ymin'],_0x392871[_0x51e1d0(_0x38ba1e._0x3a8f26)],_0x392871['ymax']);}[_0x380790(0x200)](_0x2e7b43){const _0x4264d={_0x14cbf5:0x1ff,_0x15a72b:0x1e4},_0x9c7f0b=_0x380790;this[_0x9c7f0b(_0x4264d._0x14cbf5)]=_0x2e7b43,this[_0x9c7f0b(0x1e4)]&&this[_0x9c7f0b(_0x4264d._0x15a72b)][_0x9c7f0b(0x22d)](_0x2e7b43['windowPosition'],_0x2e7b43);}['_onMapMouseMove'](_0x392c03){const _0x1bc912={_0x57b1de:0x1ff,_0x4733bf:0x226},_0x2d66b9=_0x380790;this[_0x2d66b9(_0x1bc912._0x57b1de)]=_0x392c03,this['_mapVRenderer']&&this[_0x2d66b9(0x1e4)][_0x2d66b9(_0x1bc912._0x4733bf)](_0x392c03['windowPosition'],_0x392c03);}['on'](_0x591da5,_0x2aa7a8,_0x35e4b0){const _0x5463ae={_0x13a493:0x1e0,_0x3a8efc:0x238,_0x5d7671:0x21c,_0x3c6d81:0x232,_0x2316b9:0x228},_0x1661ee=_0x380790;this['options']['methods']=this[_0x1661ee(0x21c)][_0x1661ee(0x232)]||{};if(_0x591da5===mars3d__namespace[_0x1661ee(_0x5463ae._0x13a493)][_0x1661ee(0x20d)])this[_0x1661ee(0x21c)]['methods']['click']=_0x404a43=>{_0x404a43&&_0x2aa7a8['bind'](_0x35e4b0)({...this['_cache_event'],'layer':this,'data':_0x404a43});},this[_0x1661ee(_0x5463ae._0x3a8efc)]['on'](mars3d__namespace[_0x1661ee(0x1e0)]['click'],this[_0x1661ee(0x200)],this);else _0x591da5===mars3d__namespace[_0x1661ee(_0x5463ae._0x13a493)]['mouseMove']&&(this[_0x1661ee(_0x5463ae._0x5d7671)][_0x1661ee(_0x5463ae._0x3c6d81)][_0x1661ee(_0x5463ae._0x2316b9)]=_0x3817a2=>{_0x3817a2&&_0x2aa7a8['bind'](_0x35e4b0)({...this['_cache_event'],'layer':this,'data':_0x3817a2});},this['_map']['on'](mars3d__namespace[_0x1661ee(_0x5463ae._0x13a493)]['mouseMove'],this['_onMapMouseMove'],this));return this;}['off'](_0x34cb7c,_0x4cfe9e){const _0x35069f={_0xed4d05:0x238},_0x4fc722=_0x380790;if(_0x34cb7c==='click'){var _0x37f3ad;this['_map']['off'](_0x34cb7c,this['_onMapClick'],this),(_0x37f3ad=this['options']['methods'])!==null&&_0x37f3ad!==void 0x0&&_0x37f3ad[_0x4fc722(0x228)]&&delete this['options'][_0x4fc722(0x232)][_0x4fc722(0x20d)];}else{if(_0x34cb7c==='mouseMove'){var _0x42ee14;this[_0x4fc722(_0x35069f._0xed4d05)]['off'](_0x34cb7c,this[_0x4fc722(0x22e)],this),(_0x42ee14=this['options']['methods'])!==null&&_0x42ee14!==void 0x0&&_0x42ee14['mousemove']&&delete this[_0x4fc722(0x21c)]['methods']['mousemove'];}}return this;}}mars3d__namespace['LayerUtil']['register']('mapv',MapVLayer),mars3d__namespace[_0x380790(0x1de)]['MapVLayer']=MapVLayer,mars3d__namespace['mapv']=mapv__namespace,exports[_0x380790(0x220)]=MapVLayer,Object['keys'](mapv)['forEach'](function(_0x410d25){if(_0x410d25!=='default'&&!exports['hasOwnProperty'](_0x410d25))Object['defineProperty'](exports,_0x410d25,{'enumerable':!![],'get':function(){return mapv[_0x410d25];}});}),Object[_0x380790(0x218)](exports,_0x380790(0x23f),{'value':!![]});
}));
